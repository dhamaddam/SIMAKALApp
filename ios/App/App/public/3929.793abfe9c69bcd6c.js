"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3929,3454],{3454:(f,u,a)=>{a.d(u,{U:()=>g});var l=a(5861),r=a(6689),n=a(7852),c=a(6593);let g=(()=>{class i{constructor(t,e,s,o,h,d){this.alertCtrl=t,this.toastCtrl=e,this.loadingCtrl=s,this.modalCtrl=o,this.sanitizer=h,this.navCtrl=d,this.isLoading=!1}setLoader(){this.isLoading=!this.isLoading}showAlert(t,e,s){this.alertCtrl.create({header:e||"Authentication failed",message:t,buttons:s||["Okay"]}).then(o=>o.present())}showToast(t,e,s,o=3e3){var h=this;return(0,l.Z)(function*(){(yield h.toastCtrl.create({message:t,duration:o,color:e,position:s})).present()})()}errorToast(t,e=4e3){this.showToast(t||"No Internet Connection","danger","bottom",e)}successToast(t){this.showToast(t,"success","bottom")}showLoader(t,e){return this.isLoading||this.setLoader(),this.loadingCtrl.create({message:t,spinner:e||"bubbles"}).then(s=>{s.present().then(()=>{this.isLoading||s.dismiss().then(()=>{console.log("abort presenting")})})}).catch(s=>{console.log("show loading error: ",s)})}hideLoader(){return this.isLoading&&this.setLoader(),this.loadingCtrl.dismiss().then(()=>console.log("dismissed")).catch(t=>console.log("error hide loader: ",t))}createModal(t){var e=this;return(0,l.Z)(function*(){const s=yield e.modalCtrl.create(t);yield s.present();const{data:o}=yield s.onWillDismiss();if(console.log(o),o)return o})()}modalDismiss(t){let e=t||null;console.log("data",e),this.modalCtrl.dismiss(e)}getIcon(t){switch(t.toLowerCase()){case"home":return"home-outline";case"work":return"briefcase-outline";default:return"location-outline"}}getSantizeUrl(t){return this.sanitizer.bypassSecurityTrustUrl(t)}apiErrorHandler(t){return t&&401==t.status&&t.error.error?(this.errorToast(t.error.error),this.navCtrl.navigateRoot("/login"),!1):t&&500==t.status&&t.error.error?(this.errorToast(t.error.error),!1):-1==t.status?(this.errorToast("Failed To Connect With Server"),!1):401==t.status?(this.errorToast("Unauthorized Request!"),localStorage.removeItem("token"),localStorage.removeItem("uid"),this.navCtrl.navigateRoot("/login"),!1):500==t.status?(this.errorToast("Something went wrong"),!1):422==t.status&&t.error.error?(this.errorToast(t.error.error),!1):(this.errorToast("Something went wrong"),!1)}show(t){var e=this;return(0,l.Z)(function*(){return e.isLoading=!0,yield e.loadingCtrl.create({message:t&&""!=t&&null!=t?t:"",spinner:"bubbles"}).then(s=>{s.present().then(()=>{e.isLoading||s.dismiss().then(()=>console.log("abort presenting"))})})})()}hide(){var t=this;return(0,l.Z)(function*(){return t.isLoading=!1,yield t.loadingCtrl.dismiss().then(()=>console.log("dismissed"))})()}}return i.\u0275fac=function(t){return new(t||i)(r.LFG(n.Br),r.LFG(n.yF),r.LFG(n.HT),r.LFG(n.IN),r.LFG(c.H7),r.LFG(n.SH))},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()}}]);