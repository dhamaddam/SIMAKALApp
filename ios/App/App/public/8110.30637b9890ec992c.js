"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8110],{8110:(b,d,o)=>{o.r(d),o.d(d,{InputAlatKesehatanPageModule:()=>C});var c=o(6814),e=o(7852),m=o(4670),h=o(5861),u=o(95),Z=o(6676),g=o(7394);class f{constructor(r,a,i,l,s,I,w,D,q,N,L,M,x){this.pic=r,this.name=a,this.serial_no=i,this.inventory_no=l,this.room=s,this.type=I,this.calibration_status=w,this.monitoring_status=D,this.owner_id=q,this.initial_calibration=N,this.re_calibration=L,this.initial_monitoring=M,this.re_monitoring=x}}var t=o(6689),p=o(3454),_=o(5619),v=o(6751);let A=(()=>{class n{constructor(a,i){this.loadingController=a,this.api=i,this._modeldataNotification=new _.X(null)}saveInputAlatKesehatan(a,i){this.api.saveInputAlatKesehatan(a,i).then(function(){var l=(0,h.Z)(function*(s){console.log(s),"success"==s.status?console.log("data sukses disimpan"):console.log("data gagal disimpan")});return function(s){return l.apply(this,arguments)}}())}}return n.\u0275fac=function(a){return new(a||n)(t.LFG(e.HT),t.LFG(v.k))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var T=o(4338),K=o(5175);function y(n,r){1&n&&(t.TgZ(0,"div",43),t._UZ(1,"ion-spinner",44),t.qZA())}function U(n,r){if(1&n&&(t.TgZ(0,"ion-select-option",45),t._uU(1),t.qZA()),2&n){const a=r.$implicit;t.s9C("value",null==a?null:a.id),t.xp6(1),t.Oqu(null==a?null:a.name)}}function P(n,r){1&n&&t._UZ(0,"ion-datetime",46)}const k=[{path:"",component:(()=>{class n{constructor(a,i,l,s,I){this.global=a,this.fb=i,this.inputAlatKesehatanServices=l,this.seluruhAlatServices=s,this.authServices=I,this.formTitle="Input Alat Kesehatan",this.isLoading=!1,this.allInstalasi=[],this.allInstalasiSubs=new g.w0,this.allKondisiAlat=[],this.allKondisiAlatSubs=new g.w0,this.allAlatKesehatan=[],this.allAlatKesehatanSubs=new g.w0,this.today=Z().format("YYYY-MM-DD")}ngOnInit(){this.getAuth(),this.myForm=this.fb.group({tanggal:[this.today,[u.kI.required]],pilih_instalasi:[""],nama_alat:[""],nomer_seri:[""],nomer_inventaris:[""],merk_type:[""],kondisi_alat:[""],kalibrasi_awal:[""],kalibrasi_ulang:[""],monitoring_awal:[""],monitoring_ulang:[""],calibration_status:[""],owner:[""],pic:[""]}),this.allInstalasiSubs=this.seluruhAlatServices.allAllInstalasi.subscribe(a=>{this.allInstalasi=a instanceof Array?a:this.allInstalasi.concat(a)}),this.allAlatKesehatanSubs=this.seluruhAlatServices.allDataAlatKesehatan.subscribe(a=>{this.allAlatKesehatan=a instanceof Array?a:this.allAlatKesehatan.concat(a)}),this.getAllData()}getAuth(){var a=this;return(0,h.Z)(function*(){const i=yield a.authServices.getId();if(i){let l=JSON.parse(i);console.log("this.token",l.access_token),a.token=l.access_token}})()}handleInstalasi(a){}getAllData(){var a=this;return(0,h.Z)(function*(){a.isLoading=!0,a.global.showLoader(),setTimeout((0,h.Z)(function*(){yield a.seluruhAlatServices.getInstalasi(),a.isLoading=!1,a.global.hideLoader()}),1e3)})()}placeData(a){var i=this;try{let l=[];l.push(new f(a.pic,a.nama_alat,a.nomer_seri,a.nomer_inventaris,a.pilih_instalasi,a.merk_type,a.calibration_status,a.kondisi_alat,a.owner,a.kalibrasi_awal,a.kalibrasi_ulang,a.monitoring_awal,a.monitoring_ulang)),this.isLoading=!0,this.global.showLoader(),console.log("this.token",this.token),setTimeout((0,h.Z)(function*(){yield i.inputAlatKesehatanServices.saveInputAlatKesehatan(l,i.token),i.isLoading=!1,i.global.hideLoader()}),1e3)}catch(l){throw l}}saveData(){var a=this;return(0,h.Z)(function*(){a.isLoading=!0,a.global.showLoader(),console.log(a.myForm.value),a.placeData(a.myForm.value),a.isLoading=!1,a.global.hideLoader()})()}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(p.U),t.Y36(u.qu),t.Y36(A),t.Y36(T.G),t.Y36(K.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-input-alat-kesehatan"]],decls:155,vars:8,consts:[[3,"translucent"],["mode","md","color","success"],["slot","start"],["autoHide","false"],["slot","end"],[1,"ion-padding",3,"fullscreen"],[1,"ion-margin",3,"formGroup","ngSubmit"],["class","ion-text-center alignSpinner",4,"ngIf"],[1,"ctm-font-2"],["formControlName","pilih_instalasi","placeholder","Silahkan Masukkan Instalasi",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","tanggal","id","date",3,"readonly"],["type","text","formControlName","nama_alat"],["size","6","size-md","4","size-lg","2"],["formControlName","pic","placeholder","PIC",3,"ionChange"],["value","ka.igd"],["value","ka.pk"],["value","ka.anggrek"],["value","ka.hd"],["value","ka.poli_kebidanan"],["type","text","formControlName","nomer_seri",2,"margin","8px"],["formControlName","nomer_inventaris"],["interface","action-sheet","formControlName","kondisi_alat","placeholder","Bagaimana Kondisi Alat",3,"ionChange"],["value","layak_pakai"],["value","sedang_dalam_perbaikan"],["value","menunggu_sparepart"],["value","selesai_perbaikan"],["value","gagal_perbaikan"],["interface","action-sheet","formControlName","calibration_status","placeholder","Periksa Status Kalibrasi",3,"ionChange"],["value","tidak_layak_pakai"],["interface","action-sheet","formControlName","owner","placeholder","Kepemilikan Instansi",3,"ionChange"],["value","1"],["value","2"],["value","3"],["value","4"],["type","text","formControlName","kalibrasi_awal"],["type","text","formControlName","kalibrasi_ulang"],["type","text","formControlName","monitoring_awal"],["type","text","formControlName","merk_type"],["formControlName","monitoring_ulang","id","jam",1,"ion-text-end",3,"readonly"],["trigger","monitoring_ulang","size","cover"],["type","submit","expand","full","color","success","shape","round","expand","block"],["expand","full","color","medium","shape","round"],[1,"ion-text-center","alignSpinner"],["color","primary"],[3,"value"],["presentation","time"]],template:function(a,i){1&a&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),t._uU(3),t.qZA(),t.TgZ(4,"ion-buttons",2),t._UZ(5,"ion-menu-button",3),t.qZA(),t._UZ(6,"ion-buttons",4),t.qZA()(),t.TgZ(7,"ion-content",5)(8,"form",6),t.NdJ("ngSubmit",function(){return i.saveData()}),t.YNc(9,y,2,0,"div",7),t.TgZ(10,"ion-grid")(11,"ion-row")(12,"ion-col")(13,"ion-label",8),t._uU(14,"Pilih Instalasi"),t.qZA(),t.TgZ(15,"ion-list")(16,"ion-item")(17,"ion-select",9),t.NdJ("ionChange",function(s){return i.handleInstalasi(s)}),t.YNc(18,U,2,2,"ion-select-option",10),t.qZA()()()()()(),t.TgZ(19,"ion-grid")(20,"ion-row")(21,"ion-col")(22,"ion-label",8),t._uU(23,"Tanggal"),t.qZA(),t.TgZ(24,"ion-item"),t._UZ(25,"ion-input",11),t.qZA()()()(),t.TgZ(26,"ion-grid")(27,"ion-row")(28,"ion-col")(29,"ion-label",8),t._uU(30,"Nama Alat"),t.qZA(),t.TgZ(31,"ion-item"),t._UZ(32,"ion-input",12),t.qZA()()()(),t.TgZ(33,"ion-grid")(34,"ion-row")(35,"ion-col",13)(36,"ion-label",8),t._uU(37,"PIC"),t.qZA(),t.TgZ(38,"ion-list")(39,"ion-item")(40,"ion-select",14),t.NdJ("ionChange",function(s){return i.handleInstalasi(s)}),t.TgZ(41,"ion-select-option",15),t._uU(42,"Ka. IGD"),t.qZA(),t.TgZ(43,"ion-select-option",16),t._uU(44,"Ka. PK"),t.qZA(),t.TgZ(45,"ion-select-option",17),t._uU(46,"Ka. Anggrek "),t.qZA(),t.TgZ(47,"ion-select-option",18),t._uU(48,"Ka. HD"),t.qZA(),t.TgZ(49,"ion-select-option",19),t._uU(50,"Ka. Poli Kebidanan"),t.qZA()()()()(),t.TgZ(51,"ion-col",13)(52,"ion-label",8),t._uU(53,"Nomor Seri"),t.qZA(),t.TgZ(54,"ion-item"),t._UZ(55,"ion-input",20),t.qZA()()()(),t.TgZ(56,"ion-grid")(57,"ion-row")(58,"ion-col")(59,"ion-label",8),t._uU(60,"Nomer Inventaris"),t.qZA(),t.TgZ(61,"ion-item")(62,"ion-item"),t._UZ(63,"ion-input",21),t.qZA()()()()(),t.TgZ(64,"ion-grid")(65,"ion-row")(66,"ion-col")(67,"ion-label",8),t._uU(68,"Kondisi Alat"),t.qZA(),t.TgZ(69,"ion-list")(70,"ion-item")(71,"ion-select",22),t.NdJ("ionChange",function(s){return i.handleInstalasi(s)}),t.TgZ(72,"ion-select-option",23),t._uU(73,"Layak Pakai"),t.qZA(),t.TgZ(74,"ion-select-option",24),t._uU(75,"Sedang Dalam Perbaikan"),t.qZA(),t.TgZ(76,"ion-select-option",25),t._uU(77,"Menunggu Sparepart"),t.qZA(),t.TgZ(78,"ion-select-option",26),t._uU(79,"Selesai Perbaikan"),t.qZA(),t.TgZ(80,"ion-select-option",27),t._uU(81,"Gagal Perbaikan"),t.qZA()()()()()()(),t.TgZ(82,"ion-grid")(83,"ion-row")(84,"ion-col")(85,"ion-label",8),t._uU(86,"Status Kalibrasi"),t.qZA(),t.TgZ(87,"ion-list")(88,"ion-item")(89,"ion-select",28),t.NdJ("ionChange",function(s){return i.handleInstalasi(s)}),t.TgZ(90,"ion-select-option",23),t._uU(91,"Layak Pakai"),t.qZA(),t.TgZ(92,"ion-select-option",29),t._uU(93,"Tidak Layak Pakai"),t.qZA()()()()()()(),t.TgZ(94,"ion-grid")(95,"ion-row")(96,"ion-col")(97,"ion-label",8),t._uU(98,"Kepemilikan"),t.qZA(),t.TgZ(99,"ion-list")(100,"ion-item")(101,"ion-select",30),t.NdJ("ionChange",function(s){return i.handleInstalasi(s)}),t.TgZ(102,"ion-select-option",31),t._uU(103,"RSUD Dr Pirngadi"),t.qZA(),t.TgZ(104,"ion-select-option",32),t._uU(105,"PT Saba Indomedika"),t.qZA(),t.TgZ(106,"ion-select-option",33),t._uU(107,"PT Enseval Medika Prima"),t.qZA(),t.TgZ(108,"ion-select-option",34),t._uU(109,"Pt Mendjangan"),t.qZA()()()()()()(),t.TgZ(110,"ion-grid")(111,"ion-row")(112,"ion-col")(113,"ion-label",8),t._uU(114,"Kalibrasi Awal"),t.qZA(),t.TgZ(115,"ion-item"),t._UZ(116,"ion-input",35),t.qZA()()()(),t.TgZ(117,"ion-grid")(118,"ion-row")(119,"ion-col")(120,"ion-label",8),t._uU(121,"Kalibrasi Ulang"),t.qZA(),t.TgZ(122,"ion-item"),t._UZ(123,"ion-input",36),t.qZA()()()(),t.TgZ(124,"ion-grid")(125,"ion-row")(126,"ion-col")(127,"ion-label",8),t._uU(128,"Monitoring Awal"),t.qZA(),t.TgZ(129,"ion-item"),t._UZ(130,"ion-input",37),t.qZA()()()(),t.TgZ(131,"ion-grid")(132,"ion-row")(133,"ion-col")(134,"ion-label",8),t._uU(135,"Type Merk"),t.qZA(),t.TgZ(136,"ion-item"),t._UZ(137,"ion-input",38),t.qZA()()()(),t.TgZ(138,"ion-grid")(139,"ion-row")(140,"ion-col")(141,"ion-label",8),t._uU(142,"Monitoring Ulang"),t.qZA(),t.TgZ(143,"ion-item"),t._UZ(144,"ion-input",39),t.TgZ(145,"ion-popover",40),t.YNc(146,P,1,0,"ng-template"),t.qZA()()()()(),t.TgZ(147,"ion-grid")(148,"ion-row")(149,"ion-col")(150,"ion-button",41),t._uU(151,"Simpan"),t.qZA()(),t.TgZ(152,"ion-col")(153,"ion-button",42),t._uU(154,"Kembali"),t.qZA()()()()()()),2&a&&(t.Q6J("translucent",!0),t.xp6(3),t.hij(" ",i.formTitle," "),t.xp6(4),t.Q6J("fullscreen",!0),t.xp6(1),t.Q6J("formGroup",i.myForm),t.xp6(1),t.Q6J("ngIf",i.isLoading),t.xp6(9),t.Q6J("ngForOf",i.allInstalasi),t.xp6(7),t.Q6J("readonly",!0),t.xp6(119),t.Q6J("readonly",!0))},dependencies:[c.sg,c.O5,u._Y,u.JJ,u.JL,u.sg,u.u,e.YG,e.Sm,e.wI,e.W2,e.x4,e.jY,e.Gu,e.pK,e.Ie,e.Q$,e.q_,e.fG,e.Nd,e.t9,e.n0,e.PQ,e.wd,e.sr,e.d8,e.QI,e.j9]}),n})()}];let S=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.Bz.forChild(k),m.Bz]}),n})(),C=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,u.u5,u.UX,e.Pc,S]}),n})()},4338:(b,d,o)=>{o.d(d,{G:()=>Z});var c=o(5861),e=o(5619),m=o(6689),h=o(6751),u=o(5819);let Z=(()=>{class g{constructor(t,p){this.api=t,this.storage=p,this._allContentDummy=new e.X(null),this._allInstalasi=new e.X(null),this._allDataAlatKesehatan=new e.X(null),this.model=[],this.new_model=[]}get allContentDummy(){return this._allContentDummy.asObservable()}get allAllInstalasi(){return this._allInstalasi.asObservable()}get allDataAlatKesehatan(){return this._allDataAlatKesehatan.asObservable()}getSeluruhAlat(){return this.storage.getStorage("seluruhAlat")}getSeluruhAlatData(t){var p=this;return(0,c.Z)(function*(){try{p.api.getAllAlatKesehatan(t).then(function(){var v=(0,c.Z)(function*(A){const T=JSON.parse(A);yield p._allDataAlatKesehatan.next(T.data)});return function(A){return v.apply(this,arguments)}}())}catch(_){throw console.log(_),_}})()}getContentDummy(){try{this._allContentDummy.next(this.api.getViewListContent)}catch(t){throw console.log("getContentDummy",t),t}}getInstalasi(){try{this._allInstalasi.next(this.api.getInstalasi)}catch(t){throw console.log("instalasi",t),t}}}return g.\u0275fac=function(t){return new(t||g)(m.LFG(h.k),m.LFG(u.V))},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()}}]);