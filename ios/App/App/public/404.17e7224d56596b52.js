"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[404],{404:(y,A,o)=>{o.r(A),o.d(A,{InputAlatKesehatanPageModule:()=>D});var m=o(6814),i=o(7852),p=o(4670),c=o(5861),u=o(95),f=o(6676),h=o(7394);class v{constructor(g,t,n,s,r,I,U,_,q,w,L,M,N,O){this.pic=g,this.name=t,this.image=n,this.serial_no=s,this.inventory_no=r,this.room=I,this.type=U,this.calibration_status=_,this.monitoring_status=q,this.owner_id=w,this.initial_calibration=L,this.re_calibration=M,this.initial_monitoring=N,this.re_monitoring=O}}var l=o(6629),a=o(6689),d=o(3454),T=o(2690),Z=o(4338),b=o(5175),K=o(8752);function C(e,g){1&e&&(a.TgZ(0,"div",42),a._UZ(1,"ion-spinner",43),a.qZA())}function P(e,g){if(1&e&&(a.TgZ(0,"ion-select-option",44),a._uU(1),a.qZA()),2&e){const t=g.$implicit;a.s9C("value",null==t?null:t.id),a.xp6(1),a.Oqu(null==t?null:t.name)}}const S=[{path:"",component:(()=>{class e{constructor(t,n,s,r,I){this.global=t,this.fb=n,this.inputAlatKesehatanServices=s,this.seluruhAlatServices=r,this.authServices=I,this.formTitle="Input Alat Kesehatan",this.isLoading=!1,this.allInstalasi=[],this.allInstalasiSubs=new h.w0,this.allKondisiAlat=[],this.allKondisiAlatSubs=new h.w0,this.allAlatKesehatan=[],this.allAlatKesehatanSubs=new h.w0,this.today=f().format("YYYY-MM-DD"),this.uploader=(0,l.Uploader)({apiKey:"public_FW25bYRFasDp9zGButccP2qyeEcZ"}),this.options={multi:!0},this.onComplete=U=>{var _;this.imageLink=null===(_=U[0])||void 0===_?void 0:_.fileUrl},this.imageLink=""}ngOnInit(){this.getAuth(),this.myForm=this.fb.group({tanggal:[this.today,[u.kI.required]],pilih_instalasi:[""],nama_alat:[""],nomer_seri:[""],nomer_inventaris:[""],merk_type:[""],kondisi_alat:[""],kalibrasi_awal:[""],kalibrasi_ulang:[""],monitoring_awal:[""],monitoring_ulang:[""],calibration_status:[""],owner:[""],pic:[""]}),this.allInstalasiSubs=this.seluruhAlatServices.allAllInstalasi.subscribe(t=>{this.allInstalasi=t instanceof Array?t:this.allInstalasi.concat(t)}),this.allAlatKesehatanSubs=this.seluruhAlatServices.allDataAlatKesehatan.subscribe(t=>{this.allAlatKesehatan=t instanceof Array?t:this.allAlatKesehatan.concat(t)}),this.getAllData()}getAuth(){var t=this;return(0,c.Z)(function*(){const n=yield t.authServices.getId();if(n){let s=JSON.parse(n);console.log("this.token",s.access_token),t.token=s.access_token}})()}handleInstalasi(t){}getAllData(){var t=this;return(0,c.Z)(function*(){t.isLoading=!0,t.global.showLoader(),setTimeout((0,c.Z)(function*(){yield t.seluruhAlatServices.getInstalasi(),t.isLoading=!1,t.global.hideLoader()}),1e3)})()}placeData(t){var n=this;try{let s=[];s.push(new v(t.pic,t.nama_alat,this.imageLink,t.nomer_seri,t.nomer_inventaris,t.pilih_instalasi,t.merk_type,t.calibration_status,t.kondisi_alat,t.owner,t.kalibrasi_awal,t.kalibrasi_ulang,t.monitoring_awal,t.monitoring_ulang)),this.isLoading=!0,this.global.showLoader(),console.log("this.token",this.token),setTimeout((0,c.Z)(function*(){yield n.inputAlatKesehatanServices.saveInputAlatKesehatan(s,n.token),n.isLoading=!1,n.global.hideLoader()}),1e3)}catch(s){throw s}}saveData(){var t=this;return(0,c.Z)(function*(){t.isLoading=!0,t.global.showLoader(),console.log(t.myForm.value),t.placeData(t.myForm.value),t.isLoading=!1,t.global.hideLoader(),t.myForm.reset()})()}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(d.U),a.Y36(u.qu),a.Y36(T.f),a.Y36(Z.G),a.Y36(b.e))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-input-alat-kesehatan"]],decls:165,vars:12,consts:[[3,"translucent"],["mode","md","color","success"],["slot","start"],["autoHide","false"],["slot","end"],[1,"ion-padding",3,"fullscreen"],[1,"ion-margin",3,"formGroup","ngSubmit"],["class","ion-text-center alignSpinner",4,"ngIf"],[1,"ctm-font-2"],["formControlName","pilih_instalasi","placeholder","Silahkan Masukkan Instalasi",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","tanggal","id","date",3,"readonly"],["type","text","formControlName","nama_alat"],["size","6","size-md","4","size-lg","2"],["formControlName","pic","placeholder","PIC",3,"ionChange"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["type","text","formControlName","nomer_seri",2,"margin","8px"],["formControlName","nomer_inventaris"],["interface","action-sheet","formControlName","kondisi_alat","placeholder","Bagaimana Kondisi Alat",3,"ionChange"],["value","layak_pakai"],["value","sedang_dalam_perbaikan"],["value","menunggu_sparepart"],["value","selesai_perbaikan"],["value","gagal_perbaikan"],["interface","action-sheet","formControlName","calibration_status","placeholder","Periksa Status Kalibrasi",3,"ionChange"],["value","tidak_layak_pakai"],["interface","action-sheet","formControlName","owner","placeholder","Kepemilikan Instansi",3,"ionChange"],["value","1"],["value","2"],["type","text","formControlName","kalibrasi_awal"],["type","text","formControlName","kalibrasi_ulang"],["type","text","formControlName","monitoring_awal"],["type","text","formControlName","merk_type"],["formControlName","monitoring_ulang"],["target","_blank",3,"href"],["uploadButton","",3,"uploadComplete","uploadOptions","uploader"],["type","submit","expand","full","color","success","shape","round","expand","block"],["expand","full","color","medium","shape","round"],[1,"ion-text-center","alignSpinner"],["color","primary"],[3,"value"]],template:function(t,n){1&t&&(a.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),a._uU(3),a.qZA(),a.TgZ(4,"ion-buttons",2),a._UZ(5,"ion-menu-button",3),a.qZA(),a._UZ(6,"ion-buttons",4),a.qZA()(),a.TgZ(7,"ion-content",5)(8,"form",6),a.NdJ("ngSubmit",function(){return n.saveData()}),a.YNc(9,C,2,0,"div",7),a.TgZ(10,"ion-grid")(11,"ion-row")(12,"ion-col")(13,"ion-label",8),a._uU(14,"Pilih Instalasi"),a.qZA(),a.TgZ(15,"ion-list")(16,"ion-item")(17,"ion-select",9),a.NdJ("ionChange",function(r){return n.handleInstalasi(r)}),a.YNc(18,P,2,2,"ion-select-option",10),a.qZA()()()()()(),a.TgZ(19,"ion-grid")(20,"ion-row")(21,"ion-col")(22,"ion-label",8),a._uU(23,"Tanggal"),a.qZA(),a.TgZ(24,"ion-item"),a._UZ(25,"ion-input",11),a.qZA()()()(),a.TgZ(26,"ion-grid")(27,"ion-row")(28,"ion-col")(29,"ion-label",8),a._uU(30,"Nama Alat"),a.qZA(),a.TgZ(31,"ion-item"),a._UZ(32,"ion-input",12),a.qZA()()()(),a.TgZ(33,"ion-grid")(34,"ion-row")(35,"ion-col",13)(36,"ion-label",8),a._uU(37,"PIC"),a.qZA(),a.TgZ(38,"ion-list")(39,"ion-item")(40,"ion-select",14),a.NdJ("ionChange",function(r){return n.handleInstalasi(r)}),a.TgZ(41,"ion-select-option",15),a._uU(42,"Ka. IGD"),a.qZA(),a.TgZ(43,"ion-select-option",16),a._uU(44,"Ka. PK"),a.qZA(),a.TgZ(45,"ion-select-option",17),a._uU(46,"Ka. Anggrek "),a.qZA(),a.TgZ(47,"ion-select-option",18),a._uU(48,"Ka. HD"),a.qZA(),a.TgZ(49,"ion-select-option",19),a._uU(50,"Ka. Poli Kebidanan"),a.qZA()()()()(),a.TgZ(51,"ion-col",13)(52,"ion-label",8),a._uU(53,"Nomor Seri"),a.qZA(),a.TgZ(54,"ion-item"),a._UZ(55,"ion-input",20),a.qZA()()()(),a.TgZ(56,"ion-grid")(57,"ion-row")(58,"ion-col")(59,"ion-label",8),a._uU(60,"Nomer Inventaris"),a.qZA(),a.TgZ(61,"ion-item")(62,"ion-item"),a._UZ(63,"ion-input",21),a.qZA()()()()(),a.TgZ(64,"ion-grid")(65,"ion-row")(66,"ion-col")(67,"ion-label",8),a._uU(68,"Kondisi Alat"),a.qZA(),a.TgZ(69,"ion-list")(70,"ion-item")(71,"ion-select",22),a.NdJ("ionChange",function(r){return n.handleInstalasi(r)}),a.TgZ(72,"ion-select-option",23),a._uU(73,"Layak Pakai"),a.qZA(),a.TgZ(74,"ion-select-option",24),a._uU(75,"Sedang Dalam Perbaikan"),a.qZA(),a.TgZ(76,"ion-select-option",25),a._uU(77,"Menunggu Sparepart"),a.qZA(),a.TgZ(78,"ion-select-option",24),a._uU(79,"Sedang dalam Perbaikan"),a.qZA(),a.TgZ(80,"ion-select-option",26),a._uU(81,"Selesai Perbaikan"),a.qZA(),a.TgZ(82,"ion-select-option",27),a._uU(83,"Gagal Perbaikan"),a.qZA()()()()()()(),a.TgZ(84,"ion-grid")(85,"ion-row")(86,"ion-col")(87,"ion-label",8),a._uU(88,"Status Kalibrasi"),a.qZA(),a.TgZ(89,"ion-list")(90,"ion-item")(91,"ion-select",28),a.NdJ("ionChange",function(r){return n.handleInstalasi(r)}),a.TgZ(92,"ion-select-option",23),a._uU(93,"Layak Pakai"),a.qZA(),a.TgZ(94,"ion-select-option",29),a._uU(95,"Tidak Layak Pakai"),a.qZA()()()()()()(),a.TgZ(96,"ion-grid")(97,"ion-row")(98,"ion-col")(99,"ion-label",8),a._uU(100,"Kepemilikan"),a.qZA(),a.TgZ(101,"ion-list")(102,"ion-item")(103,"ion-select",30),a.NdJ("ionChange",function(r){return n.handleInstalasi(r)}),a.TgZ(104,"ion-select-option",31),a._uU(105,"RSUD Dr Pirngadi"),a.qZA(),a.TgZ(106,"ion-select-option",32),a._uU(107,"PT Saba Indomedika"),a.qZA(),a.TgZ(108,"ion-select-option",15),a._uU(109,"PT Enseval Medika Prima"),a.qZA(),a.TgZ(110,"ion-select-option",16),a._uU(111,"Pt Mendjangan"),a.qZA()()()()()()(),a.TgZ(112,"ion-grid")(113,"ion-row")(114,"ion-col")(115,"ion-label",8),a._uU(116,"Kalibrasi Awal"),a.qZA(),a.TgZ(117,"ion-item"),a._UZ(118,"ion-input",33),a.qZA()()()(),a.TgZ(119,"ion-grid")(120,"ion-row")(121,"ion-col")(122,"ion-label",8),a._uU(123,"Kalibrasi Ulang"),a.qZA(),a.TgZ(124,"ion-item"),a._UZ(125,"ion-input",34),a.qZA()()()(),a.TgZ(126,"ion-grid")(127,"ion-row")(128,"ion-col")(129,"ion-label",8),a._uU(130,"Monitoring Awal"),a.qZA(),a.TgZ(131,"ion-item"),a._UZ(132,"ion-input",35),a.qZA()()()(),a.TgZ(133,"ion-grid")(134,"ion-row")(135,"ion-col")(136,"ion-label",8),a._uU(137,"Type Merk"),a.qZA(),a.TgZ(138,"ion-item"),a._UZ(139,"ion-input",36),a.qZA()()()(),a.TgZ(140,"ion-grid")(141,"ion-row")(142,"ion-col")(143,"ion-label",8),a._uU(144,"Monitoring Ulang"),a.qZA(),a.TgZ(145,"ion-item"),a._UZ(146,"ion-input",37),a.qZA()()()(),a.TgZ(147,"ion-grid")(148,"ion-row")(149,"ion-col")(150,"ion-label",8),a._uU(151,"File"),a.qZA(),a.TgZ(152,"ion-item")(153,"a",38),a._uU(154),a.qZA(),a.TgZ(155,"button",39),a._uU(156," Upload a file... "),a.qZA()()()()(),a.TgZ(157,"ion-grid")(158,"ion-row")(159,"ion-col")(160,"ion-button",40),a._uU(161,"Simpan"),a.qZA()(),a.TgZ(162,"ion-col")(163,"ion-button",41),a._uU(164,"Kembali"),a.qZA()()()()()()),2&t&&(a.Q6J("translucent",!0),a.xp6(3),a.hij(" ",n.formTitle," "),a.xp6(4),a.Q6J("fullscreen",!0),a.xp6(1),a.Q6J("formGroup",n.myForm),a.xp6(1),a.Q6J("ngIf",n.isLoading),a.xp6(9),a.Q6J("ngForOf",n.allInstalasi),a.xp6(7),a.Q6J("readonly",!0),a.xp6(128),a.s9C("href",n.imageLink,a.LSH),a.xp6(1),a.Oqu(n.imageLink),a.xp6(1),a.Q6J("uploadComplete",n.onComplete)("uploadOptions",n.options)("uploader",n.uploader))},dependencies:[m.sg,m.O5,u._Y,u.JJ,u.JL,u.sg,u.u,K.c5,i.YG,i.Sm,i.wI,i.W2,i.jY,i.Gu,i.pK,i.Ie,i.Q$,i.q_,i.fG,i.Nd,i.t9,i.n0,i.PQ,i.wd,i.sr,i.QI,i.j9]}),e})()}];let k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[p.Bz.forChild(S),p.Bz]}),e})(),D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[m.ez,u.u5,u.UX,K.Mw,i.Pc,k]}),e})()},4338:(y,A,o)=>{o.d(A,{G:()=>f});var m=o(5861),i=o(5619),p=o(6689),c=o(6751),u=o(5819);let f=(()=>{class h{constructor(l,a){this.api=l,this.storage=a,this._allContentDummy=new i.X(null),this._allInstalasi=new i.X(null),this._allDataAlatKesehatan=new i.X(null),this.model=[],this.new_model=[]}get allContentDummy(){return this._allContentDummy.asObservable()}get allAllInstalasi(){return this._allInstalasi.asObservable()}get allDataAlatKesehatan(){return this._allDataAlatKesehatan.asObservable()}getSeluruhAlat(){return this.storage.getStorage("seluruhAlat")}getSeluruhAlatData(l){var a=this;return(0,m.Z)(function*(){try{a.api.getAllAlatKesehatan(l).then(function(){var T=(0,m.Z)(function*(Z){const b=JSON.parse(Z);yield a._allDataAlatKesehatan.next(b.data)});return function(Z){return T.apply(this,arguments)}}())}catch(d){throw console.log(d),d}})()}getContentDummy(){try{this._allContentDummy.next(this.api.getViewListContent)}catch(l){throw console.log("getContentDummy",l),l}}getInstalasi(){try{this._allInstalasi.next(this.api.getInstalasi)}catch(l){throw console.log("instalasi",l),l}}}return h.\u0275fac=function(l){return new(l||h)(p.LFG(c.k),p.LFG(u.V))},h.\u0275prov=p.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()}}]);