"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7294,3454,3929],{7294:(x,T,l)=>{l.r(T),l.d(T,{MonitoringAlatPageModule:()=>R});var _=l(6814),h=l(95),o=l(7852),f=l(4670),A=l(5861),m=l(7394),t=l(6689),a=l(3454),i=l(7750),r=l(5175),g=l(4338),v=l(5557);function M(e,s){if(1&e&&t.GkF(0,13),2&e){t.oxw();const n=t.MAs(16);t.Q6J("ngTemplateOutlet",n)}}function D(e,s){if(1&e&&t.GkF(0,13),2&e){t.oxw();const n=t.MAs(16);t.Q6J("ngTemplateOutlet",n)}}function S(e,s){if(1&e&&t.GkF(0,13),2&e){t.oxw();const n=t.MAs(16);t.Q6J("ngTemplateOutlet",n)}}function C(e,s){if(1&e&&(t.TgZ(0,"ion-select-option",17),t._uU(1),t.qZA()),2&e){const n=s.$implicit;t.s9C("value",null==n?null:n.name),t.xp6(1),t.Oqu(null==n?null:n.name)}}function y(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-label",14),t._uU(3,"Pilih Instalasi"),t.qZA(),t.TgZ(4,"ion-list")(5,"ion-item")(6,"ion-select",15),t.NdJ("ionChange",function(u){t.CHM(n);const d=t.oxw();return t.KtG(d.handleInstalasi(u))}),t.YNc(7,C,2,2,"ion-select-option",16),t.qZA()()()()()}if(2&e){const n=t.oxw();t.xp6(7),t.Q6J("ngForOf",n.allInstalasi)}}function w(e,s){if(1&e&&t.GkF(0,13),2&e){t.oxw();const n=t.MAs(9);t.Q6J("ngTemplateOutlet",n)}}function P(e,s){if(1&e&&t.GkF(0,13),2&e){t.oxw();const n=t.MAs(11);t.Q6J("ngTemplateOutlet",n)}}function b(e,s){if(1&e&&(t.TgZ(0,"ion-label",26),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==n?null:n.name,"")}}function O(e,s){if(1&e&&(t.TgZ(0,"ion-label",27),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==n?null:n.name,"")}}function Z(e,s){if(1&e&&t.GkF(0,13),2&e){t.oxw();const n=t.MAs(31);t.Q6J("ngTemplateOutlet",n)}}function E(e,s){if(1&e&&t.GkF(0,13),2&e){t.oxw();const n=t.MAs(27);t.Q6J("ngTemplateOutlet",n)}}function I(e,s){if(1&e&&t.GkF(0,13),2&e){t.oxw();const n=t.MAs(29);t.Q6J("ngTemplateOutlet",n)}}function k(e,s){if(1&e&&t.GkF(0,13),2&e){t.oxw();const n=t.MAs(25);t.Q6J("ngTemplateOutlet",n)}}function L(e,s){if(1&e&&t.GkF(0,13),2&e){t.oxw();const n=t.MAs(23);t.Q6J("ngTemplateOutlet",n)}}function F(e,s){if(1&e&&t.GkF(0,13),2&e){t.oxw();const n=t.MAs(21);t.Q6J("ngTemplateOutlet",n)}}function J(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"ion-button",28),t.NdJ("click",function(u){t.CHM(n);const d=t.oxw().$implicit,p=t.oxw();return t.KtG(p.handleClick(u,d))}),t._uU(1,"Tdk Layak"),t.qZA()}}function K(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"ion-button",28),t.NdJ("click",function(u){t.CHM(n);const d=t.oxw().$implicit,p=t.oxw();return t.KtG(p.handleClick(u,d))}),t._uU(1,"Sdg Perb."),t.qZA()}}function N(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"ion-button",29),t.NdJ("click",function(u){t.CHM(n);const d=t.oxw().$implicit,p=t.oxw();return t.KtG(p.handleClick(u,d))}),t._uU(1,"Selesai Perb."),t.qZA()}}function G(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"ion-button",30),t.NdJ("click",function(u){t.CHM(n);const d=t.oxw().$implicit,p=t.oxw();return t.KtG(p.handleClick(u,d))}),t._uU(1,"Tunggu Spar."),t.qZA()}}function U(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"ion-button",29),t.NdJ("click",function(u){t.CHM(n);const d=t.oxw().$implicit,p=t.oxw();return t.KtG(p.handleClick(u,d))}),t._uU(1,"Pakai"),t.qZA()}}function Y(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"ion-button",31),t.NdJ("click",function(u){t.CHM(n);const d=t.oxw().$implicit,p=t.oxw();return t.KtG(p.handleClick(u,d))}),t._uU(1,"Nihil"),t.qZA()}}function Q(e,s){if(1&e&&(t.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col",11),t._uU(3),t.qZA(),t.TgZ(4,"ion-col"),t.ynx(5,8),t.YNc(6,w,1,1,"ng-container",9),t.YNc(7,P,1,1,"ng-container",18),t.YNc(8,b,2,1,"ng-template",null,10,t.W1O),t.YNc(10,O,2,1,"ng-template",null,19,t.W1O),t.BQk(),t.qZA(),t.TgZ(12,"ion-col"),t.ynx(13,8),t.YNc(14,Z,1,1,"ng-container",9),t.YNc(15,E,1,1,"ng-container",9),t.YNc(16,I,1,1,"ng-container",9),t.YNc(17,k,1,1,"ng-container",9),t.YNc(18,L,1,1,"ng-container",9),t.YNc(19,F,1,1,"ng-container",9),t.BQk(),t.YNc(20,J,2,0,"ng-template",null,20,t.W1O),t.YNc(22,K,2,0,"ng-template",null,21,t.W1O),t.YNc(24,N,2,0,"ng-template",null,22,t.W1O),t.YNc(26,G,2,0,"ng-template",null,23,t.W1O),t.YNc(28,U,2,0,"ng-template",null,24,t.W1O),t.YNc(30,Y,2,0,"ng-template",null,25,t.W1O),t.qZA()()()),2&e){const n=s.$implicit,c=s.index;t.xp6(3),t.Oqu(c+1),t.xp6(2),t.Q6J("ngSwitch",null==n?null:n.owner_id),t.xp6(1),t.Q6J("ngSwitchCase","1"),t.xp6(7),t.Q6J("ngSwitch",null==n?null:n.monitoring_status),t.xp6(1),t.Q6J("ngSwitchCase",null),t.xp6(1),t.Q6J("ngSwitchCase","menunggu_sparepart"),t.xp6(1),t.Q6J("ngSwitchCase","layak_pakai"),t.xp6(1),t.Q6J("ngSwitchCase","selesai_perbaikan"),t.xp6(1),t.Q6J("ngSwitchCase","sedang_dalam_perbaikan"),t.xp6(1),t.Q6J("ngSwitchCase","gagal_perbaikan")}}const B=[{path:"",component:(()=>{class e{constructor(n,c,u,d,p,z,H){this.global=n,this.monitoringAlatServices=c,this.activatedRoute=u,this.authServices=d,this.router=p,this.seluruhAlatServices=z,this.navExtras=H,this.formTitle="Monitoring Alat",this.allContentDummy=[],this.allContentDummySub=new m.w0,this.isLoading=!1,this.allAlatData=[],this.allAlatDataSub=new m.w0,this.allInstalasi=[],this._allAlatData=[],this.allInstalasiSubs=new m.w0}handleInstalasi(n){console.log("event id",n.detail.value);let c=this._allAlatData;c=c.filter(u=>u.room==n.detail.value),this.allAlatData=c}ngOnInit(){this.getAuth(),this.allInstalasiSubs=this.seluruhAlatServices.allAllInstalasi.subscribe(n=>{this.allInstalasi=n instanceof Array?n:this.allInstalasi.concat(n)}),this.allContentDummySub=this.monitoringAlatServices.allContentDummy.subscribe(n=>{this.allContentDummy=n instanceof Array?n:this.allContentDummy.concat(n)}),this.allAlatDataSub=this.monitoringAlatServices.allDataAlatKesehatan.subscribe(n=>{n instanceof Array?(this.allAlatData=n,this._allAlatData=n):this.allAlatData=this.allAlatData.concat(n)}),this.getAllData()}getAuth(){var n=this;return(0,A.Z)(function*(){const c=yield n.authServices.getId();if(c){let u=JSON.parse(c);n.roles=u.role,n.token=u.access_token}})()}handleRefresh(n){setTimeout(()=>{this.allAlatDataSub=this.monitoringAlatServices.allDataAlatKesehatan.subscribe(c=>{this.allAlatData=c instanceof Array?c:this.allAlatData.concat(c)}),this.getAllData(),n.target.complete()},2e3)}getAllData(){var n=this;return(0,A.Z)(function*(){setTimeout((0,A.Z)(function*(){yield n.seluruhAlatServices.getInstalasi(),yield n.monitoringAlatServices.getContentDummy(),yield n.monitoringAlatServices.getSeluruhAlatData(n.token),n.isLoading=!1,n.global.hideLoader()}),1e3)})()}handleClick(n,c){this.navExtras.setExtras(c),this.router.navigateByUrl("details-monitoring")}ngOnDestroy(){this.allContentDummySub&&this.allContentDummySub.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(a.U),t.Y36(i.c),t.Y36(f.gz),t.Y36(r.e),t.Y36(f.F0),t.Y36(g.G),t.Y36(v.l))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-monitoring-alat"]],decls:26,vars:9,consts:[[3,"translucent"],["mode","md","color","success"],["slot","start"],["autoHide","false"],["slot","end"],[1,"ion-padding",3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[3,"fixed"],[3,"ngSwitch"],[3,"ngTemplateOutlet",4,"ngSwitchCase"],["nameDefault",""],["size","2"],[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],[1,"ctm-font-2"],["placeholder","Silahkan Masukkan Instalasi",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngTemplateOutlet",4,"ngSwitchDefault"],["kso",""],["Danger",""],["sedangDalamPerbaikan",""],["selesai_perbaikan",""],["masaWarning",""],["siapPakai",""],["default",""],["size","small","color","dark"],["size","small","color","primary"],["size","small","color","danger",3,"click"],["size","small","color","success",3,"click"],["size","small","color","warning",3,"click"],["size","small",3,"click"]],template:function(n,c){1&n&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),t._uU(3),t.qZA(),t.TgZ(4,"ion-buttons",2),t._UZ(5,"ion-menu-button",3),t.qZA(),t._UZ(6,"ion-buttons",4),t.qZA()(),t.TgZ(7,"ion-content",5)(8,"ion-refresher",6),t.NdJ("ionRefresh",function(d){return c.handleRefresh(d)}),t._UZ(9,"ion-refresher-content"),t.qZA(),t.TgZ(10,"ion-grid",7),t.ynx(11,8),t.YNc(12,M,1,1,"ng-container",9),t.YNc(13,D,1,1,"ng-container",9),t.YNc(14,S,1,1,"ng-container",9),t.YNc(15,y,8,1,"ng-template",null,10,t.W1O),t.BQk(),t.qZA(),t.TgZ(17,"ion-grid")(18,"ion-row")(19,"ion-col",11),t._uU(20,"No"),t.qZA(),t.TgZ(21,"ion-col"),t._uU(22,"Alat"),t.qZA(),t.TgZ(23,"ion-col"),t._uU(24,"Status Alat"),t.qZA()()(),t.YNc(25,Q,32,10,"ion-grid",12),t.qZA()),2&n&&(t.Q6J("translucent",!0),t.xp6(3),t.hij(" ",c.formTitle," "),t.xp6(4),t.Q6J("fullscreen",!0),t.xp6(3),t.Q6J("fixed",!0),t.xp6(1),t.Q6J("ngSwitch",c.roles),t.xp6(1),t.Q6J("ngSwitchCase","ADMIN"),t.xp6(1),t.Q6J("ngSwitchCase","KATIM"),t.xp6(1),t.Q6J("ngSwitchCase","BPFK"),t.xp6(11),t.Q6J("ngForOf",c.allAlatData))},dependencies:[_.sg,_.tP,_.RF,_.n9,_.ED,o.YG,o.Sm,o.wI,o.W2,o.jY,o.Gu,o.Ie,o.Q$,o.q_,o.fG,o.nJ,o.Wo,o.Nd,o.t9,o.n0,o.wd,o.sr,o.QI]}),e})()}];let W=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[f.Bz.forChild(B),f.Bz]}),e})(),R=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[_.ez,h.u5,o.Pc,W]}),e})()},3454:(x,T,l)=>{l.d(T,{U:()=>A});var _=l(5861),h=l(6689),o=l(7852),f=l(6593);let A=(()=>{class m{constructor(a,i,r,g,v,M){this.alertCtrl=a,this.toastCtrl=i,this.loadingCtrl=r,this.modalCtrl=g,this.sanitizer=v,this.navCtrl=M,this.isLoading=!1}setLoader(){this.isLoading=!this.isLoading}showAlert(a,i,r){this.alertCtrl.create({header:i||"Authentication failed",message:a,buttons:r||["Okay"]}).then(g=>g.present())}showToast(a,i,r,g=3e3){var v=this;return(0,_.Z)(function*(){(yield v.toastCtrl.create({message:a,duration:g,color:i,position:r})).present()})()}errorToast(a,i=4e3){this.showToast(a||"No Internet Connection","danger","bottom",i)}successToast(a){this.showToast(a,"success","bottom")}showLoader(a,i){return this.isLoading||this.setLoader(),this.loadingCtrl.create({message:a,spinner:i||"bubbles"}).then(r=>{r.present().then(()=>{this.isLoading||r.dismiss().then(()=>{console.log("abort presenting")})})}).catch(r=>{console.log("show loading error: ",r)})}hideLoader(){return this.isLoading&&this.setLoader(),this.loadingCtrl.dismiss().then(()=>console.log("dismissed")).catch(a=>console.log("error hide loader: ",a))}createModal(a){var i=this;return(0,_.Z)(function*(){const r=yield i.modalCtrl.create(a);yield r.present();const{data:g}=yield r.onWillDismiss();if(console.log(g),g)return g})()}modalDismiss(a){let i=a||null;console.log("data",i),this.modalCtrl.dismiss(i)}getIcon(a){switch(a.toLowerCase()){case"home":return"home-outline";case"work":return"briefcase-outline";default:return"location-outline"}}getSantizeUrl(a){return this.sanitizer.bypassSecurityTrustUrl(a)}apiErrorHandler(a){return a&&401==a.status&&a.error.error?(this.errorToast(a.error.error),this.navCtrl.navigateRoot("/login"),!1):a&&500==a.status&&a.error.error?(this.errorToast(a.error.error),!1):-1==a.status?(this.errorToast("Failed To Connect With Server"),!1):401==a.status?(this.errorToast("Unauthorized Request!"),localStorage.removeItem("token"),localStorage.removeItem("uid"),this.navCtrl.navigateRoot("/login"),!1):500==a.status?(this.errorToast("Something went wrong"),!1):422==a.status&&a.error.error?(this.errorToast(a.error.error),!1):(this.errorToast("Something went wrong"),!1)}show(a){var i=this;return(0,_.Z)(function*(){return i.isLoading=!0,yield i.loadingCtrl.create({message:a&&""!=a&&null!=a?a:"",spinner:"bubbles"}).then(r=>{r.present().then(()=>{i.isLoading||r.dismiss().then(()=>console.log("abort presenting"))})})})()}hide(){var a=this;return(0,_.Z)(function*(){return a.isLoading=!1,yield a.loadingCtrl.dismiss().then(()=>console.log("dismissed"))})()}}return m.\u0275fac=function(a){return new(a||m)(h.LFG(o.Br),h.LFG(o.yF),h.LFG(o.HT),h.LFG(o.IN),h.LFG(f.H7),h.LFG(o.SH))},m.\u0275prov=h.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},7750:(x,T,l)=>{l.d(T,{c:()=>A});var _=l(5861),h=l(5619),o=l(6689),f=l(6751);let A=(()=>{class m{constructor(a){this.api=a,this._allContentDummy=new h.X(null),this._allDataAlatKesehatan=new h.X(null),this._allDataAlatKesehatanById=new h.X(null)}get allContentDummy(){return this._allContentDummy.asObservable()}get allDataAlatKesehatan(){return this._allDataAlatKesehatan.asObservable()}get allDataAlatKesehatanById(){return this._allDataAlatKesehatanById.asObservable()}getContentDummy(){try{this._allContentDummy.next(this.api.getViewListContent)}catch(a){throw console.log("getContentDummy",a),a}}getSeluruhAlatData(a){var i=this;return(0,_.Z)(function*(){console.log("token getSeluruhAlatData",a);try{i.api.getAllAlatKesehatan(a).then(function(){var g=(0,_.Z)(function*(v){const M=JSON.parse(v);yield i._allDataAlatKesehatan.next(M.data)});return function(v){return g.apply(this,arguments)}}())}catch(r){throw console.log(r),r}})()}getSeluruhAlatDataById(a,i){var r=this;return(0,_.Z)(function*(){try{r.api.getAllAlatKesehatanById(a,i).then(function(){var v=(0,_.Z)(function*(M){const D=JSON.parse(M);console.log("token getSeluruhAlatData",D.data),yield r._allDataAlatKesehatanById.next(D.data)});return function(M){return v.apply(this,arguments)}}())}catch(g){throw console.log(g),g}})()}}return m.\u0275fac=function(a){return new(a||m)(o.LFG(f.k))},m.\u0275prov=o.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},5557:(x,T,l)=>{l.d(T,{l:()=>h});var _=l(6689);let h=(()=>{class o{constructor(){}setExtras(A){this.extras=A}getExtras(){return this.extras}}return o.\u0275fac=function(A){return new(A||o)},o.\u0275prov=_.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},4338:(x,T,l)=>{l.d(T,{G:()=>m});var _=l(5861),h=l(5619),o=l(6689),f=l(6751),A=l(5819);let m=(()=>{class t{constructor(i,r){this.api=i,this.storage=r,this._allContentDummy=new h.X(null),this._allInstalasi=new h.X(null),this._allDataAlatKesehatan=new h.X(null),this.model=[],this.new_model=[]}get allContentDummy(){return this._allContentDummy.asObservable()}get allAllInstalasi(){return this._allInstalasi.asObservable()}get allDataAlatKesehatan(){return this._allDataAlatKesehatan.asObservable()}getSeluruhAlat(){return this.storage.getStorage("seluruhAlat")}getSeluruhAlatData(i){var r=this;return(0,_.Z)(function*(){try{r.api.getAllAlatKesehatan(i).then(function(){var v=(0,_.Z)(function*(M){const D=JSON.parse(M);yield r._allDataAlatKesehatan.next(D.data)});return function(M){return v.apply(this,arguments)}}())}catch(g){throw console.log(g),g}})()}getContentDummy(){try{this._allContentDummy.next(this.api.getViewListContent)}catch(i){throw console.log("getContentDummy",i),i}}getInstalasi(){try{this._allInstalasi.next(this.api.getInstalasi)}catch(i){throw console.log("instalasi",i),i}}}return t.\u0275fac=function(i){return new(i||t)(o.LFG(f.k),o.LFG(A.V))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);