"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7294,5557,3454,2618,3929],{7294:(x,M,i)=>{i.r(M),i.d(M,{MonitoringAlatPageModule:()=>F});var u=i(6814),m=i(95),o=i(7852),p=i(4670),g=i(5861),A=i(7394),t=i(6689),a=i(3454),r=i(7750),c=i(5175),f=i(5557);function v(e,s){if(1&e&&t.GkF(0,17),2&e){t.oxw();const n=t.MAs(25);t.Q6J("ngTemplateOutlet",n)}}function D(e,s){if(1&e&&t.GkF(0,17),2&e){t.oxw();const n=t.MAs(21);t.Q6J("ngTemplateOutlet",n)}}function T(e,s){if(1&e&&t.GkF(0,17),2&e){t.oxw();const n=t.MAs(23);t.Q6J("ngTemplateOutlet",n)}}function y(e,s){if(1&e&&t.GkF(0,17),2&e){t.oxw();const n=t.MAs(19);t.Q6J("ngTemplateOutlet",n)}}function C(e,s){if(1&e&&t.GkF(0,17),2&e){t.oxw();const n=t.MAs(17);t.Q6J("ngTemplateOutlet",n)}}function S(e,s){if(1&e&&t.GkF(0,17),2&e){t.oxw();const n=t.MAs(15);t.Q6J("ngTemplateOutlet",n)}}function P(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"ion-button",18),t.NdJ("click",function(_){t.CHM(n);const h=t.oxw().$implicit,d=t.oxw();return t.KtG(d.handleClick(_,h))}),t._uU(1,"Danger"),t.qZA()}}function b(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"ion-button",18),t.NdJ("click",function(_){t.CHM(n);const h=t.oxw().$implicit,d=t.oxw();return t.KtG(d.handleClick(_,h))}),t._uU(1,"Sdg Perb."),t.qZA()}}function w(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"ion-button",19),t.NdJ("click",function(_){t.CHM(n);const h=t.oxw().$implicit,d=t.oxw();return t.KtG(d.handleClick(_,h))}),t._uU(1,"Selesai Perb."),t.qZA()}}function Z(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"ion-button",20),t.NdJ("click",function(_){t.CHM(n);const h=t.oxw().$implicit,d=t.oxw();return t.KtG(d.handleClick(_,h))}),t._uU(1,"Tunggu Spar."),t.qZA()}}function O(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"ion-button",19),t.NdJ("click",function(_){t.CHM(n);const h=t.oxw().$implicit,d=t.oxw();return t.KtG(d.handleClick(_,h))}),t._uU(1,"Pakai"),t.qZA()}}function k(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"ion-button",21),t.NdJ("click",function(_){t.CHM(n);const h=t.oxw().$implicit,d=t.oxw();return t.KtG(d.handleClick(_,h))}),t._uU(1,"Nihil"),t.qZA()}}function E(e,s){if(1&e&&(t.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col",7),t._uU(3),t.qZA(),t.TgZ(4,"ion-col"),t._uU(5),t.qZA(),t.TgZ(6,"ion-col"),t.ynx(7,9),t.YNc(8,v,1,1,"ng-container",10),t.YNc(9,D,1,1,"ng-container",10),t.YNc(10,T,1,1,"ng-container",10),t.YNc(11,y,1,1,"ng-container",10),t.YNc(12,C,1,1,"ng-container",10),t.YNc(13,S,1,1,"ng-container",10),t.BQk(),t.YNc(14,P,2,0,"ng-template",null,11,t.W1O),t.YNc(16,b,2,0,"ng-template",null,12,t.W1O),t.YNc(18,w,2,0,"ng-template",null,13,t.W1O),t.YNc(20,Z,2,0,"ng-template",null,14,t.W1O),t.YNc(22,O,2,0,"ng-template",null,15,t.W1O),t.YNc(24,k,2,0,"ng-template",null,16,t.W1O),t.qZA()()()),2&e){const n=s.$implicit,l=s.index;t.xp6(3),t.Oqu(l+1),t.xp6(2),t.Oqu(null==n?null:n.name),t.xp6(2),t.Q6J("ngSwitch",null==n?null:n.monitoring_status),t.xp6(1),t.Q6J("ngSwitchCase",null),t.xp6(1),t.Q6J("ngSwitchCase","menunggu_sparepart"),t.xp6(1),t.Q6J("ngSwitchCase","layak_pakai"),t.xp6(1),t.Q6J("ngSwitchCase","selesai_perbaikan"),t.xp6(1),t.Q6J("ngSwitchCase","sedang_dalam_perbaikan"),t.xp6(1),t.Q6J("ngSwitchCase","gagal_perbaikan")}}const L=[{path:"",component:(()=>{class e{constructor(n,l,_,h,d,J){this.global=n,this.monitoringAlatServices=l,this.activatedRoute=_,this.authServices=h,this.router=d,this.navExtras=J,this.formTitle="Monitoring Alat",this.allContentDummy=[],this.allContentDummySub=new A.w0,this.isLoading=!1,this.allAlatData=[],this.allAlatDataSub=new A.w0}ngOnInit(){this.getAuth(),this.allContentDummySub=this.monitoringAlatServices.allContentDummy.subscribe(n=>{this.allContentDummy=n instanceof Array?n:this.allContentDummy.concat(n)}),this.allAlatDataSub=this.monitoringAlatServices.allDataAlatKesehatan.subscribe(n=>{this.allAlatData=n instanceof Array?n:this.allAlatData.concat(n)}),this.getAllData()}getAuth(){var n=this;return(0,g.Z)(function*(){const l=yield n.authServices.getId();if(l){let _=JSON.parse(l);console.log("this.token",_.access_token),n.token=_.access_token}})()}handleRefresh(n){setTimeout(()=>{this.allAlatDataSub=this.monitoringAlatServices.allDataAlatKesehatan.subscribe(l=>{this.allAlatData=l instanceof Array?l:this.allAlatData.concat(l)}),this.getAllData(),n.target.complete()},2e3)}getAllData(){var n=this;return(0,g.Z)(function*(){setTimeout((0,g.Z)(function*(){yield n.monitoringAlatServices.getContentDummy(),yield n.monitoringAlatServices.getSeluruhAlatData(n.token),n.isLoading=!1,n.global.hideLoader()}),1e3)})()}handleClick(n,l){console.log("isi monitoring row",l),this.navExtras.setExtras(l),this.router.navigateByUrl("details-monitoring")}ngOnDestroy(){this.allContentDummySub&&this.allContentDummySub.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(a.U),t.Y36(r.c),t.Y36(p.gz),t.Y36(c.e),t.Y36(p.F0),t.Y36(f.l))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-monitoring-alat"]],decls:19,vars:4,consts:[[3,"translucent"],["mode","md","color","success"],["slot","start"],["autoHide","false"],["slot","end"],[1,"ion-padding",3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["size","2"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[3,"ngTemplateOutlet",4,"ngSwitchCase"],["Danger",""],["sedangDalamPerbaikan",""],["selesai_perbaikan",""],["masaWarning",""],["siapPakai",""],["default",""],[3,"ngTemplateOutlet"],["size","small","color","danger",3,"click"],["size","small","color","success",3,"click"],["size","small","color","warning",3,"click"],["size","small",3,"click"]],template:function(n,l){1&n&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),t._uU(3),t.qZA(),t.TgZ(4,"ion-buttons",2),t._UZ(5,"ion-menu-button",3),t.qZA(),t._UZ(6,"ion-buttons",4),t.qZA()(),t.TgZ(7,"ion-content",5)(8,"ion-refresher",6),t.NdJ("ionRefresh",function(h){return l.handleRefresh(h)}),t._UZ(9,"ion-refresher-content"),t.qZA(),t.TgZ(10,"ion-grid")(11,"ion-row")(12,"ion-col",7),t._uU(13,"No"),t.qZA(),t.TgZ(14,"ion-col"),t._uU(15,"Alat"),t.qZA(),t.TgZ(16,"ion-col"),t._uU(17,"Status Alat"),t.qZA()()(),t.YNc(18,E,26,9,"ion-grid",8),t.qZA()),2&n&&(t.Q6J("translucent",!0),t.xp6(3),t.hij(" ",l.formTitle," "),t.xp6(4),t.Q6J("fullscreen",!0),t.xp6(11),t.Q6J("ngForOf",l.allAlatData))},dependencies:[u.sg,u.tP,u.RF,u.n9,o.YG,o.Sm,o.wI,o.W2,o.jY,o.Gu,o.fG,o.nJ,o.Wo,o.Nd,o.wd,o.sr]}),e})()}];let N=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.Bz.forChild(L),p.Bz]}),e})(),F=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.ez,m.u5,o.Pc,N]}),e})()},3454:(x,M,i)=>{i.d(M,{U:()=>p});var u=i(5861),m=i(6689),o=i(7852);let p=(()=>{class g{constructor(t,a,r,c){this.alertCtrl=t,this.toastCtrl=a,this.loadingCtrl=r,this.modalCtrl=c,this.isLoading=!1}setLoader(){this.isLoading=!this.isLoading}showAlert(t,a,r){this.alertCtrl.create({header:a||"Authentication failed",message:t,buttons:r||["Okay"]}).then(c=>c.present())}showToast(t,a,r,c=3e3){var f=this;return(0,u.Z)(function*(){(yield f.toastCtrl.create({message:t,duration:c,color:a,position:r})).present()})()}errorToast(t,a=4e3){this.showToast(t||"No Internet Connection","danger","bottom",a)}successToast(t){this.showToast(t,"success","bottom")}showLoader(t,a){return this.isLoading||this.setLoader(),this.loadingCtrl.create({message:t,spinner:a||"bubbles"}).then(r=>{r.present().then(()=>{this.isLoading||r.dismiss().then(()=>{console.log("abort presenting")})})}).catch(r=>{console.log("show loading error: ",r)})}hideLoader(){return this.isLoading&&this.setLoader(),this.loadingCtrl.dismiss().then(()=>console.log("dismissed")).catch(t=>console.log("error hide loader: ",t))}createModal(t){var a=this;return(0,u.Z)(function*(){const r=yield a.modalCtrl.create(t);yield r.present();const{data:c}=yield r.onWillDismiss();if(console.log(c),c)return c})()}modalDismiss(t){let a=t||null;console.log("data",a),this.modalCtrl.dismiss(a)}getIcon(t){switch(t.toLowerCase()){case"home":return"home-outline";case"work":return"briefcase-outline";default:return"location-outline"}}}return g.\u0275fac=function(t){return new(t||g)(m.LFG(o.Br),m.LFG(o.yF),m.LFG(o.HT),m.LFG(o.IN))},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},7750:(x,M,i)=>{i.d(M,{c:()=>g});var u=i(5861),m=i(5619),o=i(6689),p=i(6751);let g=(()=>{class A{constructor(a){this.api=a,this._allContentDummy=new m.X(null),this._allDataAlatKesehatan=new m.X(null),this._allDataAlatKesehatanById=new m.X(null)}get allContentDummy(){return this._allContentDummy.asObservable()}get allDataAlatKesehatan(){return this._allDataAlatKesehatan.asObservable()}get allDataAlatKesehatanById(){return this._allDataAlatKesehatanById.asObservable()}getContentDummy(){try{this._allContentDummy.next(this.api.getViewListContent)}catch(a){throw console.log("getContentDummy",a),a}}getSeluruhAlatData(a){var r=this;return(0,u.Z)(function*(){console.log("token getSeluruhAlatData",a);try{r.api.getAllAlatKesehatan(a).then(function(){var f=(0,u.Z)(function*(v){const D=JSON.parse(v);yield r._allDataAlatKesehatan.next(D.data)});return function(v){return f.apply(this,arguments)}}())}catch(c){throw console.log(c),c}})()}getSeluruhAlatDataById(a,r){var c=this;return(0,u.Z)(function*(){try{c.api.getAllAlatKesehatanById(a,r).then(function(){var v=(0,u.Z)(function*(D){const T=JSON.parse(D);console.log("token getSeluruhAlatData",T.data),yield c._allDataAlatKesehatanById.next(T.data)});return function(D){return v.apply(this,arguments)}}())}catch(f){throw console.log(f),f}})()}}return A.\u0275fac=function(a){return new(a||A)(o.LFG(p.k))},A.\u0275prov=o.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()},5557:(x,M,i)=>{i.d(M,{l:()=>m});var u=i(6689);let m=(()=>{class o{constructor(){}setExtras(g){this.extras=g}getExtras(){return this.extras}}return o.\u0275fac=function(g){return new(g||o)},o.\u0275prov=u.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()}}]);