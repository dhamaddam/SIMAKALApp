"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8110],{8110:(b,d,o)=>{o.r(d),o.d(d,{InputAlatKesehatanPageModule:()=>S});var c=o(6814),i=o(7852),m=o(4670),h=o(5861),u=o(95),Z=o(6676),g=o(7394);class f{constructor(r,t,e,l,s,I,C,w,D,q,L,N,M){this.pic=r,this.name=t,this.serial_no=e,this.inventory_no=l,this.room=s,this.type=I,this.calibration_status=C,this.monitoring_status=w,this.owner_id=D,this.initial_calibration=q,this.re_calibration=L,this.initial_monitoring=N,this.re_monitoring=M}}var a=o(6689),p=o(3454),_=o(5619),v=o(6751);let A=(()=>{class n{constructor(t,e){this.loadingController=t,this.api=e,this._modeldataNotification=new _.X(null)}saveInputAlatKesehatan(t,e){this.api.saveInputAlatKesehatan(t,e).then(function(){var l=(0,h.Z)(function*(s){console.log(s),"success"==s.status?console.log("data sukses disimpan"):console.log("data gagal disimpan")});return function(s){return l.apply(this,arguments)}}())}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(i.HT),a.LFG(v.k))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var T=o(4338),K=o(5175);function y(n,r){1&n&&(a.TgZ(0,"div",42),a._UZ(1,"ion-spinner",43),a.qZA())}function U(n,r){if(1&n&&(a.TgZ(0,"ion-select-option",44),a._uU(1),a.qZA()),2&n){const t=r.$implicit;a.s9C("value",null==t?null:t.id),a.xp6(1),a.Oqu(null==t?null:t.name)}}const k=[{path:"",component:(()=>{class n{constructor(t,e,l,s,I){this.global=t,this.fb=e,this.inputAlatKesehatanServices=l,this.seluruhAlatServices=s,this.authServices=I,this.formTitle="Input Alat Kesehatan",this.isLoading=!1,this.allInstalasi=[],this.allInstalasiSubs=new g.w0,this.allKondisiAlat=[],this.allKondisiAlatSubs=new g.w0,this.allAlatKesehatan=[],this.allAlatKesehatanSubs=new g.w0,this.today=Z().format("YYYY-MM-DD")}ngOnInit(){this.getAuth(),this.myForm=this.fb.group({tanggal:[this.today,[u.kI.required]],pilih_instalasi:[""],nama_alat:[""],nomer_seri:[""],nomer_inventaris:[""],merk_type:[""],kondisi_alat:[""],kalibrasi_awal:[""],kalibrasi_ulang:[""],monitoring_awal:[""],monitoring_ulang:[""],calibration_status:[""],owner:[""],pic:[""]}),this.allInstalasiSubs=this.seluruhAlatServices.allAllInstalasi.subscribe(t=>{this.allInstalasi=t instanceof Array?t:this.allInstalasi.concat(t)}),this.allAlatKesehatanSubs=this.seluruhAlatServices.allDataAlatKesehatan.subscribe(t=>{this.allAlatKesehatan=t instanceof Array?t:this.allAlatKesehatan.concat(t)}),this.getAllData()}getAuth(){var t=this;return(0,h.Z)(function*(){const e=yield t.authServices.getId();if(e){let l=JSON.parse(e);console.log("this.token",l.access_token),t.token=l.access_token}})()}handleInstalasi(t){}getAllData(){var t=this;return(0,h.Z)(function*(){t.isLoading=!0,t.global.showLoader(),setTimeout((0,h.Z)(function*(){yield t.seluruhAlatServices.getInstalasi(),t.isLoading=!1,t.global.hideLoader()}),1e3)})()}placeData(t){var e=this;try{let l=[];l.push(new f(t.pic,t.nama_alat,t.nomer_seri,t.nomer_inventaris,t.pilih_instalasi,t.merk_type,t.calibration_status,t.kondisi_alat,t.owner,t.kalibrasi_awal,t.kalibrasi_ulang,t.monitoring_awal,t.monitoring_ulang)),this.isLoading=!0,this.global.showLoader(),console.log("this.token",this.token),setTimeout((0,h.Z)(function*(){yield e.inputAlatKesehatanServices.saveInputAlatKesehatan(l,e.token),e.isLoading=!1,e.global.hideLoader()}),1e3)}catch(l){throw l}}saveData(){var t=this;return(0,h.Z)(function*(){t.isLoading=!0,t.global.showLoader(),console.log(t.myForm.value),t.placeData(t.myForm.value),t.isLoading=!1,t.global.hideLoader()})()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(p.U),a.Y36(u.qu),a.Y36(A),a.Y36(T.G),a.Y36(K.e))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-input-alat-kesehatan"]],decls:153,vars:7,consts:[[3,"translucent"],["mode","md","color","success"],["slot","start"],["autoHide","false"],["slot","end"],[1,"ion-padding",3,"fullscreen"],[1,"ion-margin",3,"formGroup","ngSubmit"],["class","ion-text-center alignSpinner",4,"ngIf"],[1,"ctm-font-2"],["formControlName","pilih_instalasi","placeholder","Silahkan Masukkan Instalasi",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","tanggal","id","date",3,"readonly"],["type","text","formControlName","nama_alat"],["size","6","size-md","4","size-lg","2"],["formControlName","pic","placeholder","PIC",3,"ionChange"],["value","ka.igd"],["value","ka.pk"],["value","ka.anggrek"],["value","ka.hd"],["value","ka.poli_kebidanan"],["type","text","formControlName","nomer_seri",2,"margin","8px"],["formControlName","nomer_inventaris"],["interface","action-sheet","formControlName","kondisi_alat","placeholder","Bagaimana Kondisi Alat",3,"ionChange"],["value","layak_pakai"],["value","sedang_dalam_perbaikan"],["value","menunggu_sparepart"],["value","selesai_perbaikan"],["value","gagal_perbaikan"],["interface","action-sheet","formControlName","calibration_status","placeholder","Periksa Status Kalibrasi",3,"ionChange"],["value","tidak_layak_pakai"],["interface","action-sheet","formControlName","owner","placeholder","Kepemilikan Instansi",3,"ionChange"],["value","1"],["value","2"],["value","3"],["value","4"],["type","text","formControlName","kalibrasi_awal"],["type","text","formControlName","kalibrasi_ulang"],["type","text","formControlName","monitoring_awal"],["type","text","formControlName","merk_type"],["type","text","formControlName","monitoring_ulang"],["type","submit","expand","full","color","success","shape","round","expand","block"],["expand","full","color","medium","shape","round"],[1,"ion-text-center","alignSpinner"],["color","primary"],[3,"value"]],template:function(t,e){1&t&&(a.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),a._uU(3),a.qZA(),a.TgZ(4,"ion-buttons",2),a._UZ(5,"ion-menu-button",3),a.qZA(),a._UZ(6,"ion-buttons",4),a.qZA()(),a.TgZ(7,"ion-content",5)(8,"form",6),a.NdJ("ngSubmit",function(){return e.saveData()}),a.YNc(9,y,2,0,"div",7),a.TgZ(10,"ion-grid")(11,"ion-row")(12,"ion-col")(13,"ion-label",8),a._uU(14,"Pilih Instalasi"),a.qZA(),a.TgZ(15,"ion-list")(16,"ion-item")(17,"ion-select",9),a.NdJ("ionChange",function(s){return e.handleInstalasi(s)}),a.YNc(18,U,2,2,"ion-select-option",10),a.qZA()()()()()(),a.TgZ(19,"ion-grid")(20,"ion-row")(21,"ion-col")(22,"ion-label",8),a._uU(23,"Tanggal"),a.qZA(),a.TgZ(24,"ion-item"),a._UZ(25,"ion-input",11),a.qZA()()()(),a.TgZ(26,"ion-grid")(27,"ion-row")(28,"ion-col")(29,"ion-label",8),a._uU(30,"Nama Alat"),a.qZA(),a.TgZ(31,"ion-item"),a._UZ(32,"ion-input",12),a.qZA()()()(),a.TgZ(33,"ion-grid")(34,"ion-row")(35,"ion-col",13)(36,"ion-label",8),a._uU(37,"PIC"),a.qZA(),a.TgZ(38,"ion-list")(39,"ion-item")(40,"ion-select",14),a.NdJ("ionChange",function(s){return e.handleInstalasi(s)}),a.TgZ(41,"ion-select-option",15),a._uU(42,"Ka. IGD"),a.qZA(),a.TgZ(43,"ion-select-option",16),a._uU(44,"Ka. PK"),a.qZA(),a.TgZ(45,"ion-select-option",17),a._uU(46,"Ka. Anggrek "),a.qZA(),a.TgZ(47,"ion-select-option",18),a._uU(48,"Ka. HD"),a.qZA(),a.TgZ(49,"ion-select-option",19),a._uU(50,"Ka. Poli Kebidanan"),a.qZA()()()()(),a.TgZ(51,"ion-col",13)(52,"ion-label",8),a._uU(53,"Nomor Seri"),a.qZA(),a.TgZ(54,"ion-item"),a._UZ(55,"ion-input",20),a.qZA()()()(),a.TgZ(56,"ion-grid")(57,"ion-row")(58,"ion-col")(59,"ion-label",8),a._uU(60,"Nomer Inventaris"),a.qZA(),a.TgZ(61,"ion-item")(62,"ion-item"),a._UZ(63,"ion-input",21),a.qZA()()()()(),a.TgZ(64,"ion-grid")(65,"ion-row")(66,"ion-col")(67,"ion-label",8),a._uU(68,"Kondisi Alat"),a.qZA(),a.TgZ(69,"ion-list")(70,"ion-item")(71,"ion-select",22),a.NdJ("ionChange",function(s){return e.handleInstalasi(s)}),a.TgZ(72,"ion-select-option",23),a._uU(73,"Layak Pakai"),a.qZA(),a.TgZ(74,"ion-select-option",24),a._uU(75,"Sedang Dalam Perbaikan"),a.qZA(),a.TgZ(76,"ion-select-option",25),a._uU(77,"Menunggu Sparepart"),a.qZA(),a.TgZ(78,"ion-select-option",26),a._uU(79,"Selesai Perbaikan"),a.qZA(),a.TgZ(80,"ion-select-option",27),a._uU(81,"Gagal Perbaikan"),a.qZA()()()()()()(),a.TgZ(82,"ion-grid")(83,"ion-row")(84,"ion-col")(85,"ion-label",8),a._uU(86,"Status Kalibrasi"),a.qZA(),a.TgZ(87,"ion-list")(88,"ion-item")(89,"ion-select",28),a.NdJ("ionChange",function(s){return e.handleInstalasi(s)}),a.TgZ(90,"ion-select-option",23),a._uU(91,"Layak Pakai"),a.qZA(),a.TgZ(92,"ion-select-option",29),a._uU(93,"Tidak Layak Pakai"),a.qZA()()()()()()(),a.TgZ(94,"ion-grid")(95,"ion-row")(96,"ion-col")(97,"ion-label",8),a._uU(98,"Kepemilikan"),a.qZA(),a.TgZ(99,"ion-list")(100,"ion-item")(101,"ion-select",30),a.NdJ("ionChange",function(s){return e.handleInstalasi(s)}),a.TgZ(102,"ion-select-option",31),a._uU(103,"RSUD Dr Pirngadi"),a.qZA(),a.TgZ(104,"ion-select-option",32),a._uU(105,"PT Saba Indomedika"),a.qZA(),a.TgZ(106,"ion-select-option",33),a._uU(107,"PT Enseval Medika Prima"),a.qZA(),a.TgZ(108,"ion-select-option",34),a._uU(109,"Pt Mendjangan"),a.qZA()()()()()()(),a.TgZ(110,"ion-grid")(111,"ion-row")(112,"ion-col")(113,"ion-label",8),a._uU(114,"Kalibrasi Awal"),a.qZA(),a.TgZ(115,"ion-item"),a._UZ(116,"ion-input",35),a.qZA()()()(),a.TgZ(117,"ion-grid")(118,"ion-row")(119,"ion-col")(120,"ion-label",8),a._uU(121,"Kalibrasi Ulang"),a.qZA(),a.TgZ(122,"ion-item"),a._UZ(123,"ion-input",36),a.qZA()()()(),a.TgZ(124,"ion-grid")(125,"ion-row")(126,"ion-col")(127,"ion-label",8),a._uU(128,"Monitoring Awal"),a.qZA(),a.TgZ(129,"ion-item"),a._UZ(130,"ion-input",37),a.qZA()()()(),a.TgZ(131,"ion-grid")(132,"ion-row")(133,"ion-col")(134,"ion-label",8),a._uU(135,"Type Merk"),a.qZA(),a.TgZ(136,"ion-item"),a._UZ(137,"ion-input",38),a.qZA()()()(),a.TgZ(138,"ion-grid")(139,"ion-row")(140,"ion-col")(141,"ion-label",8),a._uU(142,"Monitoring Ulang"),a.qZA(),a.TgZ(143,"ion-item"),a._UZ(144,"ion-input",39),a.qZA()()()(),a.TgZ(145,"ion-grid")(146,"ion-row")(147,"ion-col")(148,"ion-button",40),a._uU(149,"Simpan"),a.qZA()(),a.TgZ(150,"ion-col")(151,"ion-button",41),a._uU(152,"Kembali"),a.qZA()()()()()()),2&t&&(a.Q6J("translucent",!0),a.xp6(3),a.hij(" ",e.formTitle," "),a.xp6(4),a.Q6J("fullscreen",!0),a.xp6(1),a.Q6J("formGroup",e.myForm),a.xp6(1),a.Q6J("ngIf",e.isLoading),a.xp6(9),a.Q6J("ngForOf",e.allInstalasi),a.xp6(7),a.Q6J("readonly",!0))},dependencies:[c.sg,c.O5,u._Y,u.JJ,u.JL,u.sg,u.u,i.YG,i.Sm,i.wI,i.W2,i.jY,i.Gu,i.pK,i.Ie,i.Q$,i.q_,i.fG,i.Nd,i.t9,i.n0,i.PQ,i.wd,i.sr,i.QI,i.j9]}),n})()}];let P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[m.Bz.forChild(k),m.Bz]}),n})(),S=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[c.ez,u.u5,u.UX,i.Pc,P]}),n})()},4338:(b,d,o)=>{o.d(d,{G:()=>Z});var c=o(5861),i=o(5619),m=o(6689),h=o(6751),u=o(5819);let Z=(()=>{class g{constructor(a,p){this.api=a,this.storage=p,this._allContentDummy=new i.X(null),this._allInstalasi=new i.X(null),this._allDataAlatKesehatan=new i.X(null),this.model=[],this.new_model=[]}get allContentDummy(){return this._allContentDummy.asObservable()}get allAllInstalasi(){return this._allInstalasi.asObservable()}get allDataAlatKesehatan(){return this._allDataAlatKesehatan.asObservable()}getSeluruhAlat(){return this.storage.getStorage("seluruhAlat")}getSeluruhAlatData(a){var p=this;return(0,c.Z)(function*(){try{p.api.getAllAlatKesehatan("1",a).then(function(){var v=(0,c.Z)(function*(A){const T=JSON.parse(A);yield p._allDataAlatKesehatan.next(T.data)});return function(A){return v.apply(this,arguments)}}())}catch(_){throw console.log(_),_}})()}getContentDummy(){try{this._allContentDummy.next(this.api.getViewListContent)}catch(a){throw console.log("getContentDummy",a),a}}getInstalasi(){try{this._allInstalasi.next(this.api.getInstalasi)}catch(a){throw console.log("instalasi",a),a}}}return g.\u0275fac=function(a){return new(a||g)(m.LFG(h.k),m.LFG(u.V))},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()}}]);