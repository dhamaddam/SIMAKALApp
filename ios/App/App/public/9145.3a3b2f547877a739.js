"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9145],{9145:(v,p,s)=>{s.r(p),s.d(p,{JadwalKalibrasiPageModule:()=>na});var c=s(6814),g=s(95),l=s(7852),m=s(4670),_=s(5861),J=s(6676),u=s(7394),a=s(6689),o=s(3454),d=s(5619),w=s(6751);let b=(()=>{class n{constructor(t){this.api=t,this._allContentDummy=new d.X(null),this._allDataAlatKesehatan=new d.X(null)}get allContentDummy(){return this._allContentDummy.asObservable()}get allDataAlatKesehatan(){return this._allDataAlatKesehatan.asObservable()}getContentDummy(){try{this._allContentDummy.next(this.api.getViewListContent)}catch(t){throw console.log("getContentDummy",t),t}}getSeluruhAlatData(t){var i=this;return(0,_.Z)(function*(){try{i.api.getAllAlatKesehatan(t).then(function(){var h=(0,_.Z)(function*(f){const x=JSON.parse(f);yield i._allDataAlatKesehatan.next(x.data)});return function(f){return h.apply(this,arguments)}}())}catch(r){throw console.log(r),r}})()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(w.k))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var A=s(5175),T=s(4338),K=s(5557);function S(n,e){if(1&n&&a.GkF(0,13),2&n){a.oxw();const t=a.MAs(16);a.Q6J("ngTemplateOutlet",t)}}function D(n,e){if(1&n&&a.GkF(0,13),2&n){a.oxw();const t=a.MAs(16);a.Q6J("ngTemplateOutlet",t)}}function O(n,e){if(1&n&&a.GkF(0,13),2&n){a.oxw();const t=a.MAs(16);a.Q6J("ngTemplateOutlet",t)}}function P(n,e){if(1&n&&(a.TgZ(0,"ion-select-option",17),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.s9C("value",null==t?null:t.name),a.xp6(1),a.Oqu(null==t?null:t.name)}}function y(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-label",14),a._uU(3,"Pilih Instalasi"),a.qZA(),a.TgZ(4,"ion-list")(5,"ion-item")(6,"ion-select",15),a.NdJ("ionChange",function(r){a.CHM(t);const h=a.oxw();return a.KtG(h.handleInstalasi(r))}),a.YNc(7,P,2,2,"ion-select-option",16),a.qZA()()()()()}if(2&n){const t=a.oxw();a.xp6(7),a.Q6J("ngForOf",t.allInstalasi)}}function C(n,e){if(1&n&&a.GkF(0,13),2&n){a.oxw();const t=a.MAs(9);a.Q6J("ngTemplateOutlet",t)}}function Z(n,e){if(1&n&&a.GkF(0,13),2&n){a.oxw();const t=a.MAs(11);a.Q6J("ngTemplateOutlet",t)}}function Q(n,e){if(1&n&&(a.TgZ(0,"ion-label",25),a._uU(1),a.qZA()),2&n){const t=a.oxw().$implicit;a.xp6(1),a.hij(" ",null==t?null:t.name,"")}}function M(n,e){if(1&n&&(a.TgZ(0,"ion-label",26),a._uU(1),a.qZA()),2&n){const t=a.oxw().$implicit;a.xp6(1),a.hij(" ",null==t?null:t.name,"")}}function Y(n,e){if(1&n&&a.GkF(0,13),2&n){a.oxw();const t=a.MAs(35);a.Q6J("ngTemplateOutlet",t)}}function F(n,e){if(1&n&&a.GkF(0,13),2&n){a.oxw();const t=a.MAs(35);a.Q6J("ngTemplateOutlet",t)}}function N(n,e){if(1&n&&a.GkF(0,13),2&n){a.oxw();const t=a.MAs(35);a.Q6J("ngTemplateOutlet",t)}}function I(n,e){if(1&n&&a.GkF(0,13),2&n){a.oxw();const t=a.MAs(35);a.Q6J("ngTemplateOutlet",t)}}function G(n,e){if(1&n&&a.GkF(0,13),2&n){a.oxw();const t=a.MAs(35);a.Q6J("ngTemplateOutlet",t)}}function k(n,e){if(1&n&&a.GkF(0,13),2&n){a.oxw();const t=a.MAs(35);a.Q6J("ngTemplateOutlet",t)}}function E(n,e){if(1&n&&a.GkF(0,13),2&n){a.oxw();const t=a.MAs(35);a.Q6J("ngTemplateOutlet",t)}}function U(n,e){if(1&n&&a.GkF(0,13),2&n){a.oxw();const t=a.MAs(35);a.Q6J("ngTemplateOutlet",t)}}function L(n,e){if(1&n&&a.GkF(0,13),2&n){a.oxw();const t=a.MAs(35);a.Q6J("ngTemplateOutlet",t)}}function B(n,e){if(1&n&&a.GkF(0,13),2&n){a.oxw();const t=a.MAs(29);a.Q6J("ngTemplateOutlet",t)}}function W(n,e){if(1&n&&a.GkF(0,13),2&n){a.oxw();const t=a.MAs(29);a.Q6J("ngTemplateOutlet",t)}}function R(n,e){if(1&n&&a.GkF(0,13),2&n){a.oxw();const t=a.MAs(33);a.Q6J("ngTemplateOutlet",t)}}function j(n,e){if(1&n&&a.GkF(0,13),2&n){a.oxw();const t=a.MAs(33);a.Q6J("ngTemplateOutlet",t)}}function z(n,e){if(1&n&&a.GkF(0,13),2&n){a.oxw();const t=a.MAs(31);a.Q6J("ngTemplateOutlet",t)}}function $(n,e){if(1&n&&(a.TgZ(0,"ion-button",27),a._uU(1),a.qZA()),2&n){const t=a.oxw().$implicit;a.xp6(1),a.Oqu((null==t?null:t.details[0].month_diff)+" Bulan Lagi")}}function q(n,e){if(1&n&&(a.TgZ(0,"ion-button",28),a._uU(1),a.qZA()),2&n){const t=a.oxw().$implicit;a.xp6(1),a.Oqu((null==t?null:t.details[0].month_diff)+" Bulan Lagi")}}function X(n,e){if(1&n&&(a.TgZ(0,"ion-button",29),a._uU(1),a.qZA()),2&n){const t=a.oxw().$implicit;a.xp6(1),a.Oqu((null==t?null:t.details[0].month_diff)+" Bulan Lagi")}}function H(n,e){if(1&n&&(a.TgZ(0,"ion-button",30),a._uU(1),a.qZA()),2&n){const t=a.oxw().$implicit;a.xp6(1),a.Oqu((null==t?null:t.details[0].month_diff)+" Bulan Lagi")}}function V(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ion-grid")(1,"ion-row",18),a.NdJ("click",function(r){const f=a.CHM(t).$implicit,x=a.oxw();return a.KtG(x.handleClick(r,f))}),a.TgZ(2,"ion-col",11),a._uU(3),a.qZA(),a.TgZ(4,"ion-col"),a.ynx(5,8),a.YNc(6,C,1,1,"ng-container",9),a.YNc(7,Z,1,1,"ng-container",19),a.YNc(8,Q,2,1,"ng-template",null,10,a.W1O),a.YNc(10,M,2,1,"ng-template",null,20,a.W1O),a.BQk(),a.qZA(),a.TgZ(12,"ion-col"),a.ynx(13,8),a.YNc(14,Y,1,1,"ng-container",9),a.YNc(15,F,1,1,"ng-container",9),a.YNc(16,N,1,1,"ng-container",9),a.YNc(17,I,1,1,"ng-container",9),a.YNc(18,G,1,1,"ng-container",9),a.YNc(19,k,1,1,"ng-container",9),a.YNc(20,E,1,1,"ng-container",9),a.YNc(21,U,1,1,"ng-container",9),a.YNc(22,L,1,1,"ng-container",9),a.YNc(23,B,1,1,"ng-container",9),a.YNc(24,W,1,1,"ng-container",9),a.YNc(25,R,1,1,"ng-container",9),a.YNc(26,j,1,1,"ng-container",9),a.YNc(27,z,1,1,"ng-container",19),a.BQk(),a.YNc(28,$,2,1,"ng-template",null,21,a.W1O),a.YNc(30,q,2,1,"ng-template",null,22,a.W1O),a.YNc(32,X,2,1,"ng-template",null,23,a.W1O),a.YNc(34,H,2,1,"ng-template",null,24,a.W1O),a.qZA()()()}if(2&n){const t=e.$implicit,i=e.index;a.xp6(3),a.Oqu(i+1),a.xp6(2),a.Q6J("ngSwitch",null==t?null:t.owner_id),a.xp6(1),a.Q6J("ngSwitchCase","1"),a.xp6(7),a.Q6J("ngSwitch",null==t?null:t.details[0].month_diff),a.xp6(1),a.Q6J("ngSwitchCase",12),a.xp6(1),a.Q6J("ngSwitchCase",11),a.xp6(1),a.Q6J("ngSwitchCase",10),a.xp6(1),a.Q6J("ngSwitchCase",9),a.xp6(1),a.Q6J("ngSwitchCase",8),a.xp6(1),a.Q6J("ngSwitchCase",7),a.xp6(1),a.Q6J("ngSwitchCase",6),a.xp6(1),a.Q6J("ngSwitchCase",5),a.xp6(1),a.Q6J("ngSwitchCase",4),a.xp6(1),a.Q6J("ngSwitchCase",3),a.xp6(1),a.Q6J("ngSwitchCase",2),a.xp6(1),a.Q6J("ngSwitchCase",1),a.xp6(1),a.Q6J("ngSwitchCase",0)}}const aa=[{path:"",component:(()=>{class n{constructor(t,i,r,h,f,x,ea){this.global=t,this.jadwalKalibrasiServices=i,this.authServices=r,this.router=h,this.seluruhAlatServices=f,this.fb=x,this.navExtras=ea,this.allContentDummy=[],this.allContentDummySub=new u.w0,this.isLoading=!1,this.formTitle="Jadwal Kalibrasi",this.allAlatData=[],this.today=J().format("YYYY-MM-DD"),this.allAlatDataSub=new u.w0,this.allInstalasi=[],this._allAlatData=[],this.allInstalasiSubs=new u.w0}ngOnInit(){this.myForm=this.fb.group({tanggal:[this.today,[g.kI.required]],pilih_instalasi:[""]}),this.getAuth(),this.allInstalasiSubs=this.seluruhAlatServices.allAllInstalasi.subscribe(t=>{this.allInstalasi=t instanceof Array?t:this.allInstalasi.concat(t)}),this.allAlatDataSub=this.jadwalKalibrasiServices.allDataAlatKesehatan.subscribe(t=>{t instanceof Array?(this.allAlatData=t,this._allAlatData=t):this.allAlatData=this.allAlatData.concat(t)}),this.getAllData()}handleInstalasi(t){let i=this._allAlatData;i=i.filter(r=>r.room==t.detail.value),this.allAlatData=i}getAuth(){var t=this;return(0,_.Z)(function*(){const i=yield t.authServices.getId();if(i){let r=JSON.parse(i);t.roles=r.role,t.token=r.access_token}})()}getAllData(){var t=this;return(0,_.Z)(function*(){t.isLoading=!0,t.global.showLoader(),setTimeout((0,_.Z)(function*(){yield t.jadwalKalibrasiServices.getSeluruhAlatData(t.token),yield t.seluruhAlatServices.getInstalasi(),t.isLoading=!1,t.global.hideLoader()}),1e3)})()}handleClick(t,i){this.navExtras.setExtras(i),this.router.navigateByUrl("update-kalibrasi")}handleRefresh(t){setTimeout(()=>{this.allAlatDataSub=this.jadwalKalibrasiServices.allDataAlatKesehatan.subscribe(i=>{i instanceof Array?(this.allAlatData=i,this._allAlatData=i):this.allAlatData=this.allAlatData.concat(i)}),this.getAllData(),t.target.complete()},2e3)}ngOnDestroy(){this.allContentDummySub&&this.allContentDummySub.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(o.U),a.Y36(b),a.Y36(A.e),a.Y36(m.F0),a.Y36(T.G),a.Y36(g.qu),a.Y36(K.l))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-jadwal-kalibrasi"]],decls:25,vars:9,consts:[[3,"translucent"],["mode","md","color","success"],["slot","start"],["autoHide","true"],["slot","end"],[1,"ion-padding",3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[3,"fixed"],[3,"ngSwitch"],[3,"ngTemplateOutlet",4,"ngSwitchCase"],["nameDefault",""],["size","2"],[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],[1,"ctm-font-2"],["placeholder","Silahkan Masukkan Instalasi",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"click"],[3,"ngTemplateOutlet",4,"ngSwitchDefault"],["kso",""],["masaWarning",""],["default",""],["sedangDalamPerbaikan",""],["siapPakai",""],["size","small","color","dark"],["size","small","color","primary"],["size","small","color","warning"],["size","small"],["size","small","color","danger"],["size","small","color","success"]],template:function(t,i){1&t&&(a.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),a._uU(3),a.qZA(),a.TgZ(4,"ion-buttons",2),a._UZ(5,"ion-menu-button",3),a.qZA(),a._UZ(6,"ion-buttons",4),a.qZA()(),a.TgZ(7,"ion-content",5)(8,"ion-refresher",6),a.NdJ("ionRefresh",function(h){return i.handleRefresh(h)}),a._UZ(9,"ion-refresher-content"),a.qZA(),a.TgZ(10,"ion-grid",7),a.ynx(11,8),a.YNc(12,S,1,1,"ng-container",9),a.YNc(13,D,1,1,"ng-container",9),a.YNc(14,O,1,1,"ng-container",9),a.YNc(15,y,8,1,"ng-template",null,10,a.W1O),a.BQk(),a.TgZ(17,"ion-row")(18,"ion-col",11),a._uU(19,"No"),a.qZA(),a.TgZ(20,"ion-col"),a._uU(21,"Alat"),a.qZA(),a.TgZ(22,"ion-col"),a._uU(23,"Jadwal"),a.qZA()()(),a.YNc(24,V,36,17,"ion-grid",12),a.qZA()),2&t&&(a.Q6J("translucent",!0),a.xp6(3),a.hij(" ",i.formTitle," "),a.xp6(4),a.Q6J("fullscreen",!0),a.xp6(3),a.Q6J("fixed",!0),a.xp6(1),a.Q6J("ngSwitch",i.roles),a.xp6(1),a.Q6J("ngSwitchCase","ADMIN"),a.xp6(1),a.Q6J("ngSwitchCase","KATIM"),a.xp6(1),a.Q6J("ngSwitchCase","BPFK"),a.xp6(10),a.Q6J("ngForOf",i.allAlatData))},dependencies:[c.sg,c.tP,c.RF,c.n9,c.ED,l.YG,l.Sm,l.wI,l.W2,l.jY,l.Gu,l.Ie,l.Q$,l.q_,l.fG,l.nJ,l.Wo,l.Nd,l.t9,l.n0,l.wd,l.sr,l.QI]}),n})()}];let ta=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[m.Bz.forChild(aa),m.Bz]}),n})(),na=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[c.ez,g.u5,l.Pc,ta]}),n})()},5557:(v,p,s)=>{s.d(p,{l:()=>g});var c=s(6689);let g=(()=>{class l{constructor(){}setExtras(_){this.extras=_}getExtras(){return this.extras}}return l.\u0275fac=function(_){return new(_||l)},l.\u0275prov=c.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},4338:(v,p,s)=>{s.d(p,{G:()=>J});var c=s(5861),g=s(5619),l=s(6689),m=s(6751),_=s(5819);let J=(()=>{class u{constructor(o,d){this.api=o,this.storage=d,this._allContentDummy=new g.X(null),this._allInstalasi=new g.X(null),this._allDataAlatKesehatan=new g.X(null),this.model=[],this.new_model=[]}get allContentDummy(){return this._allContentDummy.asObservable()}get allAllInstalasi(){return this._allInstalasi.asObservable()}get allDataAlatKesehatan(){return this._allDataAlatKesehatan.asObservable()}getSeluruhAlat(){return this.storage.getStorage("seluruhAlat")}getSeluruhAlatData(o){var d=this;return(0,c.Z)(function*(){try{d.api.getAllAlatKesehatan(o).then(function(){var b=(0,c.Z)(function*(A){const T=JSON.parse(A);yield d._allDataAlatKesehatan.next(T.data)});return function(A){return b.apply(this,arguments)}}())}catch(w){throw console.log(w),w}})()}getContentDummy(){try{this._allContentDummy.next(this.api.getViewListContent)}catch(o){throw console.log("getContentDummy",o),o}}getInstalasi(){try{this._allInstalasi.next(this.api.getInstalasi)}catch(o){throw console.log("instalasi",o),o}}}return u.\u0275fac=function(o){return new(o||u)(l.LFG(m.k),l.LFG(_.V))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()}}]);