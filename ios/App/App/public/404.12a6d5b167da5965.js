"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[404],{404:(b,Z,n)=>{n.r(Z),n.d(Z,{InputAlatKesehatanPageModule:()=>U});var h=n(6814),e=n(7852),A=n(4670),f=n(5861),_=n(95),v=n(6676),r=n(7394);class T{constructor(p,t,o,c,d,K,P,S,D,k,N,M,O){this.pic=p,this.name=t,this.serial_no=o,this.inventory_no=c,this.room=d,this.type=K,this.calibration_status=P,this.monitoring_status=S,this.owner_id=D,this.initial_calibration=k,this.re_calibration=N,this.initial_monitoring=M,this.re_monitoring=O}}var a=n(6689),s=n(3454),l=n(2690),u=n(4338),g=n(5175);function m(i,p){1&i&&(a.TgZ(0,"div",40),a._UZ(1,"ion-spinner",41),a.qZA())}function I(i,p){if(1&i&&(a.TgZ(0,"ion-select-option",42),a._uU(1),a.qZA()),2&i){const t=p.$implicit;a.s9C("value",null==t?null:t.id),a.xp6(1),a.Oqu(null==t?null:t.name)}}const C=[{path:"",component:(()=>{class i{constructor(t,o,c,d,K){this.global=t,this.fb=o,this.inputAlatKesehatanServices=c,this.seluruhAlatServices=d,this.authServices=K,this.formTitle="Input Alat Kesehatan",this.isLoading=!1,this.allInstalasi=[],this.allInstalasiSubs=new r.w0,this.allKondisiAlat=[],this.allKondisiAlatSubs=new r.w0,this.allAlatKesehatan=[],this.allAlatKesehatanSubs=new r.w0,this.today=v().format("YYYY-MM-DD")}ngOnInit(){this.getAuth(),this.myForm=this.fb.group({tanggal:[this.today,[_.kI.required]],pilih_instalasi:[""],nama_alat:[""],nomer_seri:[""],nomer_inventaris:[""],merk_type:[""],kondisi_alat:[""],kalibrasi_awal:[""],kalibrasi_ulang:[""],monitoring_awal:[""],monitoring_ulang:[""],calibration_status:[""],owner:[""],pic:[""]}),this.allInstalasiSubs=this.seluruhAlatServices.allAllInstalasi.subscribe(t=>{this.allInstalasi=t instanceof Array?t:this.allInstalasi.concat(t)}),this.allAlatKesehatanSubs=this.seluruhAlatServices.allDataAlatKesehatan.subscribe(t=>{this.allAlatKesehatan=t instanceof Array?t:this.allAlatKesehatan.concat(t)}),this.getAllData()}getAuth(){var t=this;return(0,f.Z)(function*(){const o=yield t.authServices.getId();if(o){let c=JSON.parse(o);console.log("this.token",c.access_token),t.token=c.access_token}})()}handleInstalasi(t){}getAllData(){var t=this;return(0,f.Z)(function*(){t.isLoading=!0,t.global.showLoader(),setTimeout((0,f.Z)(function*(){yield t.seluruhAlatServices.getInstalasi(),t.isLoading=!1,t.global.hideLoader()}),1e3)})()}placeData(t){var o=this;try{let c=[];c.push(new T(t.pic,t.nama_alat,t.nomer_seri,t.nomer_inventaris,t.pilih_instalasi,t.merk_type,t.calibration_status,t.kondisi_alat,t.owner,t.kalibrasi_awal,t.kalibrasi_ulang,t.monitoring_awal,t.monitoring_ulang)),this.isLoading=!0,this.global.showLoader(),console.log("this.token",this.token),setTimeout((0,f.Z)(function*(){yield o.inputAlatKesehatanServices.saveInputAlatKesehatan(c,o.token),o.isLoading=!1,o.global.hideLoader()}),1e3)}catch(c){throw c}}saveData(){var t=this;return(0,f.Z)(function*(){t.isLoading=!0,t.global.showLoader(),console.log(t.myForm.value),t.placeData(t.myForm.value),t.isLoading=!1,t.global.hideLoader()})()}}return i.\u0275fac=function(t){return new(t||i)(a.Y36(s.U),a.Y36(_.qu),a.Y36(l.f),a.Y36(u.G),a.Y36(g.e))},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-input-alat-kesehatan"]],decls:153,vars:7,consts:[[3,"translucent"],["mode","md","color","success"],["slot","start"],["autoHide","false"],["slot","end"],[1,"ion-padding",3,"fullscreen"],[1,"ion-margin",3,"formGroup","ngSubmit"],["class","ion-text-center alignSpinner",4,"ngIf"],[1,"ctm-font-2"],["formControlName","pilih_instalasi","placeholder","Silahkan Masukkan Instalasi",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","tanggal","id","date",3,"readonly"],["type","text","formControlName","nama_alat"],["size","6","size-md","4","size-lg","2"],["formControlName","pic","placeholder","PIC",3,"ionChange"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["type","text","formControlName","nomer_seri",2,"margin","8px"],["formControlName","nomer_inventaris"],["interface","action-sheet","formControlName","kondisi_alat","placeholder","Bagaimana Kondisi Alat",3,"ionChange"],["value","layak_pakai"],["value","sedang_dalam_perbaikan"],["value","menunggu_sparepart"],["value","selesai_perbaikan"],["value","gagal_perbaikan"],["interface","action-sheet","formControlName","calibration_status","placeholder","Periksa Status Kalibrasi",3,"ionChange"],["value","tidak_layak_pakai"],["interface","action-sheet","formControlName","owner","placeholder","Kepemilikan Instansi",3,"ionChange"],["value","1"],["value","2"],["type","text","formControlName","kalibrasi_awal"],["type","text","formControlName","kalibrasi_ulang"],["type","text","formControlName","monitoring_awal"],["type","text","formControlName","merk_type"],["formControlName","monitoring_ulang",1,"ion-text-end"],["type","submit","expand","full","color","success","shape","round","expand","block"],["expand","full","color","medium","shape","round"],[1,"ion-text-center","alignSpinner"],["color","primary"],[3,"value"]],template:function(t,o){1&t&&(a.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),a._uU(3),a.qZA(),a.TgZ(4,"ion-buttons",2),a._UZ(5,"ion-menu-button",3),a.qZA(),a._UZ(6,"ion-buttons",4),a.qZA()(),a.TgZ(7,"ion-content",5)(8,"form",6),a.NdJ("ngSubmit",function(){return o.saveData()}),a.YNc(9,m,2,0,"div",7),a.TgZ(10,"ion-grid")(11,"ion-row")(12,"ion-col")(13,"ion-label",8),a._uU(14,"Pilih Instalasi"),a.qZA(),a.TgZ(15,"ion-list")(16,"ion-item")(17,"ion-select",9),a.NdJ("ionChange",function(d){return o.handleInstalasi(d)}),a.YNc(18,I,2,2,"ion-select-option",10),a.qZA()()()()()(),a.TgZ(19,"ion-grid")(20,"ion-row")(21,"ion-col")(22,"ion-label",8),a._uU(23,"Tanggal"),a.qZA(),a.TgZ(24,"ion-item"),a._UZ(25,"ion-input",11),a.qZA()()()(),a.TgZ(26,"ion-grid")(27,"ion-row")(28,"ion-col")(29,"ion-label",8),a._uU(30,"Nama Alat"),a.qZA(),a.TgZ(31,"ion-item"),a._UZ(32,"ion-input",12),a.qZA()()()(),a.TgZ(33,"ion-grid")(34,"ion-row")(35,"ion-col",13)(36,"ion-label",8),a._uU(37,"PIC"),a.qZA(),a.TgZ(38,"ion-list")(39,"ion-item")(40,"ion-select",14),a.NdJ("ionChange",function(d){return o.handleInstalasi(d)}),a.TgZ(41,"ion-select-option",15),a._uU(42,"Ka. IGD"),a.qZA(),a.TgZ(43,"ion-select-option",16),a._uU(44,"Ka. PK"),a.qZA(),a.TgZ(45,"ion-select-option",17),a._uU(46,"Ka. Anggrek "),a.qZA(),a.TgZ(47,"ion-select-option",18),a._uU(48,"Ka. HD"),a.qZA(),a.TgZ(49,"ion-select-option",19),a._uU(50,"Ka. Poli Kebidanan"),a.qZA()()()()(),a.TgZ(51,"ion-col",13)(52,"ion-label",8),a._uU(53,"Nomor Seri"),a.qZA(),a.TgZ(54,"ion-item"),a._UZ(55,"ion-input",20),a.qZA()()()(),a.TgZ(56,"ion-grid")(57,"ion-row")(58,"ion-col")(59,"ion-label",8),a._uU(60,"Nomer Inventaris"),a.qZA(),a.TgZ(61,"ion-item")(62,"ion-item"),a._UZ(63,"ion-input",21),a.qZA()()()()(),a.TgZ(64,"ion-grid")(65,"ion-row")(66,"ion-col")(67,"ion-label",8),a._uU(68,"Kondisi Alat"),a.qZA(),a.TgZ(69,"ion-list")(70,"ion-item")(71,"ion-select",22),a.NdJ("ionChange",function(d){return o.handleInstalasi(d)}),a.TgZ(72,"ion-select-option",23),a._uU(73,"Layak Pakai"),a.qZA(),a.TgZ(74,"ion-select-option",24),a._uU(75,"Sedang Dalam Perbaikan"),a.qZA(),a.TgZ(76,"ion-select-option",25),a._uU(77,"Menunggu Sparepart"),a.qZA(),a.TgZ(78,"ion-select-option",26),a._uU(79,"Selesai Perbaikan"),a.qZA(),a.TgZ(80,"ion-select-option",27),a._uU(81,"Gagal Perbaikan"),a.qZA()()()()()()(),a.TgZ(82,"ion-grid")(83,"ion-row")(84,"ion-col")(85,"ion-label",8),a._uU(86,"Status Kalibrasi"),a.qZA(),a.TgZ(87,"ion-list")(88,"ion-item")(89,"ion-select",28),a.NdJ("ionChange",function(d){return o.handleInstalasi(d)}),a.TgZ(90,"ion-select-option",23),a._uU(91,"Layak Pakai"),a.qZA(),a.TgZ(92,"ion-select-option",29),a._uU(93,"Tidak Layak Pakai"),a.qZA()()()()()()(),a.TgZ(94,"ion-grid")(95,"ion-row")(96,"ion-col")(97,"ion-label",8),a._uU(98,"Kepemilikan"),a.qZA(),a.TgZ(99,"ion-list")(100,"ion-item")(101,"ion-select",30),a.NdJ("ionChange",function(d){return o.handleInstalasi(d)}),a.TgZ(102,"ion-select-option",31),a._uU(103,"RSUD Dr Pirngadi"),a.qZA(),a.TgZ(104,"ion-select-option",32),a._uU(105,"PT Saba Indomedika"),a.qZA(),a.TgZ(106,"ion-select-option",15),a._uU(107,"PT Enseval Medika Prima"),a.qZA(),a.TgZ(108,"ion-select-option",16),a._uU(109,"Pt Mendjangan"),a.qZA()()()()()()(),a.TgZ(110,"ion-grid")(111,"ion-row")(112,"ion-col")(113,"ion-label",8),a._uU(114,"Kalibrasi Awal"),a.qZA(),a.TgZ(115,"ion-item"),a._UZ(116,"ion-input",33),a.qZA()()()(),a.TgZ(117,"ion-grid")(118,"ion-row")(119,"ion-col")(120,"ion-label",8),a._uU(121,"Kalibrasi Ulang"),a.qZA(),a.TgZ(122,"ion-item"),a._UZ(123,"ion-input",34),a.qZA()()()(),a.TgZ(124,"ion-grid")(125,"ion-row")(126,"ion-col")(127,"ion-label",8),a._uU(128,"Monitoring Awal"),a.qZA(),a.TgZ(129,"ion-item"),a._UZ(130,"ion-input",35),a.qZA()()()(),a.TgZ(131,"ion-grid")(132,"ion-row")(133,"ion-col")(134,"ion-label",8),a._uU(135,"Type Merk"),a.qZA(),a.TgZ(136,"ion-item"),a._UZ(137,"ion-input",36),a.qZA()()()(),a.TgZ(138,"ion-grid")(139,"ion-row")(140,"ion-col")(141,"ion-label",8),a._uU(142,"Monitoring Ulang"),a.qZA(),a.TgZ(143,"ion-item"),a._UZ(144,"ion-input",37),a.qZA()()()(),a.TgZ(145,"ion-grid")(146,"ion-row")(147,"ion-col")(148,"ion-button",38),a._uU(149,"Simpan"),a.qZA()(),a.TgZ(150,"ion-col")(151,"ion-button",39),a._uU(152,"Kembali"),a.qZA()()()()()()),2&t&&(a.Q6J("translucent",!0),a.xp6(3),a.hij(" ",o.formTitle," "),a.xp6(4),a.Q6J("fullscreen",!0),a.xp6(1),a.Q6J("formGroup",o.myForm),a.xp6(1),a.Q6J("ngIf",o.isLoading),a.xp6(9),a.Q6J("ngForOf",o.allInstalasi),a.xp6(7),a.Q6J("readonly",!0))},dependencies:[h.sg,h.O5,_._Y,_.JJ,_.JL,_.sg,_.u,e.YG,e.Sm,e.wI,e.W2,e.jY,e.Gu,e.pK,e.Ie,e.Q$,e.q_,e.fG,e.Nd,e.t9,e.n0,e.PQ,e.wd,e.sr,e.QI,e.j9]}),i})()}];let y=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[A.Bz.forChild(C),A.Bz]}),i})(),U=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[h.ez,_.u5,_.UX,e.Pc,y]}),i})()},2690:(b,Z,n)=>{n.d(Z,{f:()=>v});var h=n(5861),e=n(5619),A=n(6689),f=n(7852),_=n(6751);let v=(()=>{class r{constructor(a,s){this.loadingController=a,this.api=s,this._modeldataNotification=new e.X(null)}saveInputAlatKesehatan(a,s){this.api.saveInputAlatKesehatan(a,s).then(function(){var l=(0,h.Z)(function*(u){"success"==JSON.parse(u).meta.status?console.log("data sukses disimpan"):console.log("data gagal disimpan")});return function(u){return l.apply(this,arguments)}}())}updateAlatKesehatan(a,s,l){var u=this;this.api.updateAlatKesehatan(a,s,l).then(function(){var g=(0,h.Z)(function*(m){const I=JSON.parse(m);"success"==I.meta.status?(console.log("data sukses disimpan"),u.sendAndCreateNotificationMonitoring(a,I,l)):console.log("data gagal disimpan")});return function(m){return g.apply(this,arguments)}}())}updateAlatKesehatanCalibration(a,s,l){var u=this;this.api.updateAlatKesehatanCalibration(a,s,l).then(function(){var g=(0,h.Z)(function*(m){"success"==JSON.parse(m).meta.status?(console.log("data sukses disimpan"),u.sendAndCreateNotificationCalibration(a,s,l)):console.log("data gagal disimpan")});return function(m){return g.apply(this,arguments)}}())}sendAndCreateNotificationMonitoring(a,s,l){this.api.sendAndCreateNotificationMonitoring(a,s,l).then(function(){var u=(0,h.Z)(function*(g){JSON.parse(g),console.log("data sukses disimpan")});return function(g){return u.apply(this,arguments)}}())}sendAndCreateNotificationCalibration(a,s,l){this.api.sendAndCreateNotificationCalibration(a,s,l).then(function(){var u=(0,h.Z)(function*(g){"success"==JSON.parse(g).meta.status?console.log("data sukses disimpan"):console.log("data gagal disimpan")});return function(g){return u.apply(this,arguments)}}())}sendAndCreateNotificationBPFK(a,s){this.api.sendAndCreateNotificationBPFK(a,s).then(function(){var l=(0,h.Z)(function*(u){"success"==JSON.parse(u).meta.status?console.log("data sukses disimpan"):console.log("data gagal disimpan")});return function(u){return l.apply(this,arguments)}}())}}return r.\u0275fac=function(a){return new(a||r)(A.LFG(f.HT),A.LFG(_.k))},r.\u0275prov=A.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},4338:(b,Z,n)=>{n.d(Z,{G:()=>v});var h=n(5861),e=n(5619),A=n(6689),f=n(6751),_=n(5819);let v=(()=>{class r{constructor(a,s){this.api=a,this.storage=s,this._allContentDummy=new e.X(null),this._allInstalasi=new e.X(null),this._allDataAlatKesehatan=new e.X(null),this.model=[],this.new_model=[]}get allContentDummy(){return this._allContentDummy.asObservable()}get allAllInstalasi(){return this._allInstalasi.asObservable()}get allDataAlatKesehatan(){return this._allDataAlatKesehatan.asObservable()}getSeluruhAlat(){return this.storage.getStorage("seluruhAlat")}getSeluruhAlatData(a){var s=this;return(0,h.Z)(function*(){try{s.api.getAllAlatKesehatan(a).then(function(){var u=(0,h.Z)(function*(g){const m=JSON.parse(g);yield s._allDataAlatKesehatan.next(m.data)});return function(g){return u.apply(this,arguments)}}())}catch(l){throw console.log(l),l}})()}getContentDummy(){try{this._allContentDummy.next(this.api.getViewListContent)}catch(a){throw console.log("getContentDummy",a),a}}getInstalasi(){try{this._allInstalasi.next(this.api.getInstalasi)}catch(a){throw console.log("instalasi",a),a}}}return r.\u0275fac=function(a){return new(a||r)(A.LFG(f.k),A.LFG(_.V))},r.\u0275prov=A.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}}]);