"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8110],{8110:(b,d,o)=>{o.r(d),o.d(d,{InputAlatKesehatanPageModule:()=>C});var c=o(6814),i=o(7852),p=o(4670),h=o(5861),u=o(95),Z=o(6676),g=o(7394);class f{constructor(r,a,e,l,s,I,P,w,D,q,L,N,M){this.pic=r,this.name=a,this.serial_no=e,this.inventory_no=l,this.room=s,this.type=I,this.calibration_status=P,this.monitoring_status=w,this.owner_id=D,this.initial_calibration=q,this.re_calibration=L,this.initial_monitoring=N,this.re_monitoring=M}}var t=o(6689),m=o(3454),_=o(5619),v=o(6751);let A=(()=>{class n{constructor(a,e){this.loadingController=a,this.api=e,this._modeldataNotification=new _.X(null)}saveInputAlatKesehatan(a,e){this.api.saveInputAlatKesehatan(a,e).then(function(){var l=(0,h.Z)(function*(s){console.log(s),"success"==s.status?console.log("data sukses disimpan"):console.log("data gagal disimpan")});return function(s){return l.apply(this,arguments)}}())}}return n.\u0275fac=function(a){return new(a||n)(t.LFG(i.HT),t.LFG(v.k))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var T=o(4338),K=o(5175);function y(n,r){1&n&&(t.TgZ(0,"div",42),t._UZ(1,"ion-spinner",43),t.qZA())}function U(n,r){if(1&n&&(t.TgZ(0,"ion-select-option",44),t._uU(1),t.qZA()),2&n){const a=r.$implicit;t.s9C("value",null==a?null:a.id),t.xp6(1),t.Oqu(null==a?null:a.name)}}const S=[{path:"",component:(()=>{class n{constructor(a,e,l,s,I){this.global=a,this.fb=e,this.inputAlatKesehatanServices=l,this.seluruhAlatServices=s,this.authServices=I,this.formTitle="Input Alat Kesehatan",this.isLoading=!1,this.allInstalasi=[],this.allInstalasiSubs=new g.w0,this.allKondisiAlat=[],this.allKondisiAlatSubs=new g.w0,this.allAlatKesehatan=[],this.allAlatKesehatanSubs=new g.w0,this.today=Z().format("YYYY-MM-DD")}ngOnInit(){this.getAuth(),this.myForm=this.fb.group({tanggal:[this.today,[u.kI.required]],pilih_instalasi:[""],nama_alat:[""],nomer_seri:[""],nomer_inventaris:[""],merk_type:[""],kondisi_alat:[""],kalibrasi_awal:[""],kalibrasi_ulang:[""],monitoring_awal:[""],monitoring_ulang:[""],calibration_status:[""],owner:[""],pic:[""]}),this.allInstalasiSubs=this.seluruhAlatServices.allAllInstalasi.subscribe(a=>{this.allInstalasi=a instanceof Array?a:this.allInstalasi.concat(a)}),this.allAlatKesehatanSubs=this.seluruhAlatServices.allDataAlatKesehatan.subscribe(a=>{this.allAlatKesehatan=a instanceof Array?a:this.allAlatKesehatan.concat(a)}),this.getAllData()}getAuth(){var a=this;return(0,h.Z)(function*(){const e=yield a.authServices.getId();if(e){let l=JSON.parse(e);console.log("this.token",l.access_token),a.token=l.access_token}})()}handleInstalasi(a){}getAllData(){var a=this;return(0,h.Z)(function*(){a.isLoading=!0,a.global.showLoader(),setTimeout((0,h.Z)(function*(){yield a.seluruhAlatServices.getInstalasi(),a.isLoading=!1,a.global.hideLoader()}),1e3)})()}placeData(a){var e=this;try{let l=[];l.push(new f(a.pic,a.nama_alat,a.nomer_seri,a.nomer_inventaris,a.pilih_instalasi,a.merk_type,a.calibration_status,a.kondisi_alat,a.owner,a.kalibrasi_awal,a.kalibrasi_ulang,a.monitoring_awal,a.monitoring_ulang)),this.isLoading=!0,this.global.showLoader(),console.log("this.token",this.token),setTimeout((0,h.Z)(function*(){yield e.inputAlatKesehatanServices.saveInputAlatKesehatan(l,e.token),e.isLoading=!1,e.global.hideLoader()}),1e3)}catch(l){throw l}}saveData(){var a=this;return(0,h.Z)(function*(){a.isLoading=!0,a.global.showLoader(),console.log(a.myForm.value),a.placeData(a.myForm.value),a.isLoading=!1,a.global.hideLoader()})()}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(m.U),t.Y36(u.qu),t.Y36(A),t.Y36(T.G),t.Y36(K.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-input-alat-kesehatan"]],decls:144,vars:7,consts:[[3,"translucent"],["mode","md","color","success"],["slot","start"],["autoHide","false"],["slot","end"],[1,"ion-padding",3,"fullscreen"],[1,"ion-margin",3,"formGroup","ngSubmit"],["class","ion-text-center alignSpinner",4,"ngIf"],[1,"ctm-font-2"],["formControlName","pilih_instalasi","placeholder","Silahkan Masukkan Instalasi","fill","outline",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","tanggal","id","date",3,"readonly"],["type","text","formControlName","nama_alat"],["formControlName","pic","placeholder","PIC","fill","outline",3,"ionChange"],["value","ka.igd"],["value","ka.pk"],["value","ka.anggrek"],["value","ka.hd"],["value","ka.poli_kebidanan"],[2,"text-align","left"],["type","text","formControlName","nomer_seri"],["formControlName","nomer_inventaris"],["interface","action-sheet","formControlName","kondisi_alat","placeholder","Kondisi Alat",2,"padding-top","20px",3,"ionChange"],["value","layak_pakai"],["value","sedang_dalam_perbaikan"],["value","menunggu_sparepart"],["value","selesai_perbaikan"],["value","gagal_perbaikan"],["interface","action-sheet","formControlName","calibration_status","placeholder","Status Kalibrasi",2,"padding-top","20px",3,"ionChange"],["value","tidak_layak_pakai"],["interface","action-sheet","formControlName","owner","placeholder","Kepemilikan",2,"padding-top","20px",3,"ionChange"],["value","1"],["value","2"],["value","3"],["value","4"],["type","text","formControlName","kalibrasi_awal"],["type","text","formControlName","kalibrasi_ulang"],["type","text","formControlName","monitoring_awal"],["type","text","formControlName","merk_type"],["type","text","formControlName","monitoring_ulang"],["type","submit","expand","full","color","success","shape","round","expand","block"],["expand","full","color","medium","shape","round"],[1,"ion-text-center","alignSpinner"],["color","primary"],[3,"value"]],template:function(a,e){1&a&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),t._uU(3),t.qZA(),t.TgZ(4,"ion-buttons",2),t._UZ(5,"ion-menu-button",3),t.qZA(),t._UZ(6,"ion-buttons",4),t.qZA()(),t.TgZ(7,"ion-content",5)(8,"form",6),t.NdJ("ngSubmit",function(){return e.saveData()}),t.YNc(9,y,2,0,"div",7),t.TgZ(10,"ion-grid")(11,"ion-row")(12,"ion-col")(13,"ion-list")(14,"ion-label",8),t._uU(15,"Pilih Instalasi"),t.qZA(),t.TgZ(16,"ion-item")(17,"ion-select",9),t.NdJ("ionChange",function(s){return e.handleInstalasi(s)}),t.YNc(18,U,2,2,"ion-select-option",10),t.qZA()()()()()(),t.TgZ(19,"ion-grid")(20,"ion-row")(21,"ion-col")(22,"ion-label",8),t._uU(23,"Tanggal"),t.qZA(),t.TgZ(24,"ion-item"),t._UZ(25,"ion-input",11),t.qZA()()()(),t.TgZ(26,"ion-grid")(27,"ion-row")(28,"ion-col")(29,"ion-label",8),t._uU(30,"Nama Alat"),t.qZA(),t.TgZ(31,"ion-item"),t._UZ(32,"ion-input",12),t.qZA()()()(),t.TgZ(33,"ion-grid")(34,"ion-row")(35,"ion-col")(36,"ion-select",13),t.NdJ("ionChange",function(s){return e.handleInstalasi(s)}),t.TgZ(37,"ion-select-option",14),t._uU(38,"Ka. IGD"),t.qZA(),t.TgZ(39,"ion-select-option",15),t._uU(40,"Ka. PK"),t.qZA(),t.TgZ(41,"ion-select-option",16),t._uU(42,"Ka. Anggrek "),t.qZA(),t.TgZ(43,"ion-select-option",17),t._uU(44,"Ka. HD"),t.qZA(),t.TgZ(45,"ion-select-option",18),t._uU(46,"Ka. Poli Kebidanan"),t.qZA()()(),t.TgZ(47,"ion-col",19)(48,"ion-label",8),t._uU(49,"Nomor Seri"),t.qZA(),t.TgZ(50,"ion-item")(51,"ion-item"),t._UZ(52,"ion-input",20),t.qZA()()()()(),t.TgZ(53,"ion-grid")(54,"ion-row")(55,"ion-col")(56,"ion-label",8),t._uU(57,"Nomer Inventaris"),t.qZA(),t.TgZ(58,"ion-item")(59,"ion-item"),t._UZ(60,"ion-input",21),t.qZA()()()()(),t.TgZ(61,"ion-grid")(62,"ion-row")(63,"ion-col")(64,"ion-list")(65,"ion-label",8),t._uU(66,"Kondisi Alat"),t.qZA(),t.TgZ(67,"ion-item")(68,"ion-select",22),t.NdJ("ionChange",function(s){return e.handleInstalasi(s)}),t.TgZ(69,"ion-select-option",23),t._uU(70,"Layak Pakai"),t.qZA(),t.TgZ(71,"ion-select-option",24),t._uU(72,"Sedang Dalam Perbaikan"),t.qZA(),t.TgZ(73,"ion-select-option",25),t._uU(74,"Menunggu Sparepart"),t.qZA(),t.TgZ(75,"ion-select-option",26),t._uU(76,"Selesai Perbaikan"),t.qZA(),t.TgZ(77,"ion-select-option",27),t._uU(78,"Gagal Perbaikan"),t.qZA()()()()()(),t.TgZ(79,"ion-row")(80,"ion-col")(81,"ion-list")(82,"ion-label",8),t._uU(83,"Status Kalibrasi"),t.qZA(),t.TgZ(84,"ion-item")(85,"ion-select",28),t.NdJ("ionChange",function(s){return e.handleInstalasi(s)}),t.TgZ(86,"ion-select-option",23),t._uU(87,"Layak Pakai"),t.qZA(),t.TgZ(88,"ion-select-option",29),t._uU(89,"Tidak Layak Pakai"),t.qZA()()()()()(),t.TgZ(90,"ion-row")(91,"ion-col")(92,"ion-list")(93,"ion-label",8),t._uU(94,"Kepemilikan"),t.qZA(),t.TgZ(95,"ion-item")(96,"ion-select",30),t.NdJ("ionChange",function(s){return e.handleInstalasi(s)}),t.TgZ(97,"ion-select-option",31),t._uU(98,"RSUD Dr Pirngadi"),t.qZA(),t.TgZ(99,"ion-select-option",32),t._uU(100,"PT Saba Indomedika"),t.qZA(),t.TgZ(101,"ion-select-option",33),t._uU(102,"PT Enseval Medika Prima"),t.qZA(),t.TgZ(103,"ion-select-option",34),t._uU(104,"Pt Mendjangan"),t.qZA()()()()()()(),t.TgZ(105,"ion-grid")(106,"ion-row")(107,"ion-col")(108,"ion-label",8),t._uU(109,"Kalibrasi Awal"),t.qZA(),t.TgZ(110,"ion-item"),t._UZ(111,"ion-input",35),t.qZA()()(),t.TgZ(112,"ion-row")(113,"ion-col")(114,"ion-label",8),t._uU(115,"Kalibrasi Ulang"),t.qZA(),t.TgZ(116,"ion-item"),t._UZ(117,"ion-input",36),t.qZA()()(),t.TgZ(118,"ion-row")(119,"ion-col")(120,"ion-label",8),t._uU(121,"Monitoring Awal"),t.qZA(),t.TgZ(122,"ion-item"),t._UZ(123,"ion-input",37),t.qZA()()(),t.TgZ(124,"ion-row")(125,"ion-col")(126,"ion-label",8),t._uU(127,"Type Merk"),t.qZA(),t.TgZ(128,"ion-item"),t._UZ(129,"ion-input",38),t.qZA()()(),t.TgZ(130,"ion-row")(131,"ion-col")(132,"ion-label",8),t._uU(133,"Monitoring Ulang"),t.qZA(),t.TgZ(134,"ion-item"),t._UZ(135,"ion-input",39),t.qZA()()()(),t.TgZ(136,"ion-grid")(137,"ion-row")(138,"ion-col")(139,"ion-button",40),t._uU(140,"Simpan"),t.qZA()(),t.TgZ(141,"ion-col")(142,"ion-button",41),t._uU(143,"Kembali"),t.qZA()()()()()()),2&a&&(t.Q6J("translucent",!0),t.xp6(3),t.hij(" ",e.formTitle," "),t.xp6(4),t.Q6J("fullscreen",!0),t.xp6(1),t.Q6J("formGroup",e.myForm),t.xp6(1),t.Q6J("ngIf",e.isLoading),t.xp6(9),t.Q6J("ngForOf",e.allInstalasi),t.xp6(7),t.Q6J("readonly",!0))},dependencies:[c.sg,c.O5,u._Y,u.JJ,u.JL,u.sg,u.u,i.YG,i.Sm,i.wI,i.W2,i.jY,i.Gu,i.pK,i.Ie,i.Q$,i.q_,i.fG,i.Nd,i.t9,i.n0,i.PQ,i.wd,i.sr,i.QI,i.j9]}),n})()}];let k=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.Bz.forChild(S),p.Bz]}),n})(),C=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,u.u5,u.UX,i.Pc,k]}),n})()},4338:(b,d,o)=>{o.d(d,{G:()=>Z});var c=o(5861),i=o(5619),p=o(6689),h=o(6751),u=o(5819);let Z=(()=>{class g{constructor(t,m){this.api=t,this.storage=m,this._allContentDummy=new i.X(null),this._allInstalasi=new i.X(null),this._allDataAlatKesehatan=new i.X(null),this.model=[],this.new_model=[]}get allContentDummy(){return this._allContentDummy.asObservable()}get allAllInstalasi(){return this._allInstalasi.asObservable()}get allDataAlatKesehatan(){return this._allDataAlatKesehatan.asObservable()}getSeluruhAlat(){return this.storage.getStorage("seluruhAlat")}getSeluruhAlatData(t){var m=this;return(0,c.Z)(function*(){try{m.api.getAllAlatKesehatan("1",t).then(function(){var v=(0,c.Z)(function*(A){const T=JSON.parse(A);yield m._allDataAlatKesehatan.next(T.data)});return function(A){return v.apply(this,arguments)}}())}catch(_){throw console.log(_),_}})()}getContentDummy(){try{this._allContentDummy.next(this.api.getViewListContent)}catch(t){throw console.log("getContentDummy",t),t}}getInstalasi(){try{this._allInstalasi.next(this.api.getInstalasi)}catch(t){throw console.log("instalasi",t),t}}}return g.\u0275fac=function(t){return new(t||g)(p.LFG(h.k),p.LFG(u.V))},g.\u0275prov=p.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()}}]);