"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9145],{9145:(v,w,s)=>{s.r(w),s.d(w,{JadwalKalibrasiPageModule:()=>nt});var c=s(6814),g=s(95),l=s(7852),p=s(4670),u=s(5861),T=s(6676),_=s(7394),t=s(6689),o=s(3454),h=s(5619),f=s(6751);let m=(()=>{class n{constructor(a){this.api=a,this._allContentDummy=new h.X(null),this._allDataAlatKesehatan=new h.X(null)}get allContentDummy(){return this._allContentDummy.asObservable()}get allDataAlatKesehatan(){return this._allDataAlatKesehatan.asObservable()}getContentDummy(){try{this._allContentDummy.next(this.api.getViewListContent)}catch(a){throw console.log("getContentDummy",a),a}}getSeluruhAlatData(a){var i=this;return(0,u.Z)(function*(){try{i.api.getAllAlatKesehatan(a).then(function(){var d=(0,u.Z)(function*(J){const b=JSON.parse(J);yield i._allDataAlatKesehatan.next(b.data)});return function(J){return d.apply(this,arguments)}}())}catch(r){throw console.log(r),r}})()}}return n.\u0275fac=function(a){return new(a||n)(t.LFG(f.k))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var x=s(5175),A=s(4338),K=s(5557);function S(n,e){if(1&n&&t.GkF(0,13),2&n){t.oxw();const a=t.MAs(16);t.Q6J("ngTemplateOutlet",a)}}function D(n,e){if(1&n&&t.GkF(0,13),2&n){t.oxw();const a=t.MAs(16);t.Q6J("ngTemplateOutlet",a)}}function O(n,e){if(1&n&&t.GkF(0,13),2&n){t.oxw();const a=t.MAs(16);t.Q6J("ngTemplateOutlet",a)}}function P(n,e){if(1&n&&(t.TgZ(0,"ion-select-option",17),t._uU(1),t.qZA()),2&n){const a=e.$implicit;t.s9C("value",null==a?null:a.name),t.xp6(1),t.Oqu(null==a?null:a.name)}}function y(n,e){if(1&n){const a=t.EpF();t.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-label",14),t._uU(3,"Pilih Instalasi"),t.qZA(),t.TgZ(4,"ion-list")(5,"ion-item")(6,"ion-select",15),t.NdJ("ionChange",function(r){t.CHM(a);const d=t.oxw();return t.KtG(d.handleInstalasi(r))}),t.YNc(7,P,2,2,"ion-select-option",16),t.qZA()()()()()}if(2&n){const a=t.oxw();t.xp6(7),t.Q6J("ngForOf",a.allInstalasi)}}function C(n,e){if(1&n&&t.GkF(0,13),2&n){t.oxw();const a=t.MAs(9);t.Q6J("ngTemplateOutlet",a)}}function Z(n,e){if(1&n&&t.GkF(0,13),2&n){t.oxw();const a=t.MAs(11);t.Q6J("ngTemplateOutlet",a)}}function Q(n,e){if(1&n&&(t.TgZ(0,"ion-label",25),t._uU(1),t.qZA()),2&n){const a=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==a?null:a.name,"")}}function M(n,e){if(1&n&&(t.TgZ(0,"ion-label",26),t._uU(1),t.qZA()),2&n){const a=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==a?null:a.name,"")}}function Y(n,e){if(1&n&&t.GkF(0,13),2&n){t.oxw();const a=t.MAs(35);t.Q6J("ngTemplateOutlet",a)}}function N(n,e){if(1&n&&t.GkF(0,13),2&n){t.oxw();const a=t.MAs(35);t.Q6J("ngTemplateOutlet",a)}}function F(n,e){if(1&n&&t.GkF(0,13),2&n){t.oxw();const a=t.MAs(35);t.Q6J("ngTemplateOutlet",a)}}function I(n,e){if(1&n&&t.GkF(0,13),2&n){t.oxw();const a=t.MAs(35);t.Q6J("ngTemplateOutlet",a)}}function G(n,e){if(1&n&&t.GkF(0,13),2&n){t.oxw();const a=t.MAs(35);t.Q6J("ngTemplateOutlet",a)}}function k(n,e){if(1&n&&t.GkF(0,13),2&n){t.oxw();const a=t.MAs(35);t.Q6J("ngTemplateOutlet",a)}}function E(n,e){if(1&n&&t.GkF(0,13),2&n){t.oxw();const a=t.MAs(35);t.Q6J("ngTemplateOutlet",a)}}function U(n,e){if(1&n&&t.GkF(0,13),2&n){t.oxw();const a=t.MAs(35);t.Q6J("ngTemplateOutlet",a)}}function B(n,e){if(1&n&&t.GkF(0,13),2&n){t.oxw();const a=t.MAs(35);t.Q6J("ngTemplateOutlet",a)}}function L(n,e){if(1&n&&t.GkF(0,13),2&n){t.oxw();const a=t.MAs(29);t.Q6J("ngTemplateOutlet",a)}}function W(n,e){if(1&n&&t.GkF(0,13),2&n){t.oxw();const a=t.MAs(29);t.Q6J("ngTemplateOutlet",a)}}function R(n,e){if(1&n&&t.GkF(0,13),2&n){t.oxw();const a=t.MAs(33);t.Q6J("ngTemplateOutlet",a)}}function j(n,e){if(1&n&&t.GkF(0,13),2&n){t.oxw();const a=t.MAs(33);t.Q6J("ngTemplateOutlet",a)}}function z(n,e){if(1&n&&t.GkF(0,13),2&n){t.oxw();const a=t.MAs(31);t.Q6J("ngTemplateOutlet",a)}}function $(n,e){if(1&n&&(t.TgZ(0,"ion-button",27),t._uU(1),t.qZA()),2&n){const a=t.oxw().$implicit;t.xp6(1),t.Oqu((null==a?null:a.details[0].month_diff)+" Bulan Lagi")}}function q(n,e){if(1&n&&(t.TgZ(0,"ion-button",28),t._uU(1),t.qZA()),2&n){const a=t.oxw().$implicit;t.xp6(1),t.Oqu((null==a?null:a.details[0].month_diff)+" Bulan Lagi")}}function X(n,e){if(1&n&&(t.TgZ(0,"ion-button",29),t._uU(1),t.qZA()),2&n){const a=t.oxw().$implicit;t.xp6(1),t.Oqu((null==a?null:a.details[0].month_diff)+" Bulan Lagi")}}function H(n,e){if(1&n&&(t.TgZ(0,"ion-button",30),t._uU(1),t.qZA()),2&n){const a=t.oxw().$implicit;t.xp6(1),t.Oqu((null==a?null:a.details[0].month_diff)+" Bulan Lagi")}}function V(n,e){if(1&n){const a=t.EpF();t.TgZ(0,"ion-grid")(1,"ion-row",18),t.NdJ("click",function(r){const J=t.CHM(a).$implicit,b=t.oxw();return t.KtG(b.handleClick(r,J))}),t.TgZ(2,"ion-col",11),t._uU(3),t.qZA(),t.TgZ(4,"ion-col"),t.ynx(5,8),t.YNc(6,C,1,1,"ng-container",9),t.YNc(7,Z,1,1,"ng-container",19),t.YNc(8,Q,2,1,"ng-template",null,10,t.W1O),t.YNc(10,M,2,1,"ng-template",null,20,t.W1O),t.BQk(),t.qZA(),t.TgZ(12,"ion-col"),t.ynx(13,8),t.YNc(14,Y,1,1,"ng-container",9),t.YNc(15,N,1,1,"ng-container",9),t.YNc(16,F,1,1,"ng-container",9),t.YNc(17,I,1,1,"ng-container",9),t.YNc(18,G,1,1,"ng-container",9),t.YNc(19,k,1,1,"ng-container",9),t.YNc(20,E,1,1,"ng-container",9),t.YNc(21,U,1,1,"ng-container",9),t.YNc(22,B,1,1,"ng-container",9),t.YNc(23,L,1,1,"ng-container",9),t.YNc(24,W,1,1,"ng-container",9),t.YNc(25,R,1,1,"ng-container",9),t.YNc(26,j,1,1,"ng-container",9),t.YNc(27,z,1,1,"ng-container",19),t.BQk(),t.YNc(28,$,2,1,"ng-template",null,21,t.W1O),t.YNc(30,q,2,1,"ng-template",null,22,t.W1O),t.YNc(32,X,2,1,"ng-template",null,23,t.W1O),t.YNc(34,H,2,1,"ng-template",null,24,t.W1O),t.qZA()()()}if(2&n){const a=e.$implicit,i=e.index;t.xp6(3),t.Oqu(i+1),t.xp6(2),t.Q6J("ngSwitch",null==a?null:a.owner_id),t.xp6(1),t.Q6J("ngSwitchCase","1"),t.xp6(7),t.Q6J("ngSwitch",null==a?null:a.details[0].month_diff),t.xp6(1),t.Q6J("ngSwitchCase",12),t.xp6(1),t.Q6J("ngSwitchCase",11),t.xp6(1),t.Q6J("ngSwitchCase",10),t.xp6(1),t.Q6J("ngSwitchCase",9),t.xp6(1),t.Q6J("ngSwitchCase",8),t.xp6(1),t.Q6J("ngSwitchCase",7),t.xp6(1),t.Q6J("ngSwitchCase",6),t.xp6(1),t.Q6J("ngSwitchCase",5),t.xp6(1),t.Q6J("ngSwitchCase",4),t.xp6(1),t.Q6J("ngSwitchCase",3),t.xp6(1),t.Q6J("ngSwitchCase",2),t.xp6(1),t.Q6J("ngSwitchCase",1),t.xp6(1),t.Q6J("ngSwitchCase",0)}}const tt=[{path:"",component:(()=>{class n{constructor(a,i,r,d,J,b,et){this.global=a,this.jadwalKalibrasiServices=i,this.authServices=r,this.router=d,this.seluruhAlatServices=J,this.fb=b,this.navExtras=et,this.allContentDummy=[],this.allContentDummySub=new _.w0,this.isLoading=!1,this.formTitle="Jadwal Kalibrasi",this.allAlatData=[],this.today=T().format("YYYY-MM-DD"),this.allAlatDataSub=new _.w0,this.allInstalasi=[],this._allAlatData=[],this.allInstalasiSubs=new _.w0}ngOnInit(){this.myForm=this.fb.group({tanggal:[this.today,[g.kI.required]],pilih_instalasi:[""]}),this.getAuth(),this.allInstalasiSubs=this.seluruhAlatServices.allAllInstalasi.subscribe(a=>{this.allInstalasi=a instanceof Array?a:this.allInstalasi.concat(a)}),this.allAlatDataSub=this.jadwalKalibrasiServices.allDataAlatKesehatan.subscribe(a=>{a instanceof Array?(this.allAlatData=a,this._allAlatData=a):this.allAlatData=this.allAlatData.concat(a)}),this.getAllData()}handleInstalasi(a){let i=this._allAlatData;i=i.filter(r=>r.room==a.detail.value),this.allAlatData=i}getAuth(){var a=this;return(0,u.Z)(function*(){const i=yield a.authServices.getId();if(i){let r=JSON.parse(i);a.roles=r.role,a.token=r.access_token}})()}getAllData(){var a=this;return(0,u.Z)(function*(){a.isLoading=!0,a.global.showLoader(),setTimeout((0,u.Z)(function*(){yield a.jadwalKalibrasiServices.getSeluruhAlatData(a.token),yield a.seluruhAlatServices.getInstalasi(),a.isLoading=!1,a.global.hideLoader()}),1e3)})()}handleClick(a,i){this.navExtras.setExtras(i),this.router.navigateByUrl("update-kalibrasi")}handleRefresh(a){setTimeout(()=>{this.allAlatDataSub=this.jadwalKalibrasiServices.allDataAlatKesehatan.subscribe(i=>{i instanceof Array?(this.allAlatData=i,this._allAlatData=i):this.allAlatData=this.allAlatData.concat(i)}),this.getAllData(),a.target.complete()},2e3)}ngOnDestroy(){this.allContentDummySub&&this.allContentDummySub.unsubscribe()}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(o.U),t.Y36(m),t.Y36(x.e),t.Y36(p.F0),t.Y36(A.G),t.Y36(g.qu),t.Y36(K.l))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-jadwal-kalibrasi"]],decls:25,vars:9,consts:[[3,"translucent"],["mode","md","color","success"],["slot","start"],["autoHide","true"],["slot","end"],[1,"ion-padding",3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[3,"fixed"],[3,"ngSwitch"],[3,"ngTemplateOutlet",4,"ngSwitchCase"],["nameDefault",""],["size","2"],[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],[1,"ctm-font-2"],["placeholder","Silahkan Masukkan Instalasi",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"click"],[3,"ngTemplateOutlet",4,"ngSwitchDefault"],["kso",""],["masaWarning",""],["default",""],["sedangDalamPerbaikan",""],["siapPakai",""],["size","small","color","dark"],["size","small","color","primary"],["size","small","color","warning"],["size","small"],["size","small","color","danger"],["size","small","color","success"]],template:function(a,i){1&a&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),t._uU(3),t.qZA(),t.TgZ(4,"ion-buttons",2),t._UZ(5,"ion-menu-button",3),t.qZA(),t._UZ(6,"ion-buttons",4),t.qZA()(),t.TgZ(7,"ion-content",5)(8,"ion-refresher",6),t.NdJ("ionRefresh",function(d){return i.handleRefresh(d)}),t._UZ(9,"ion-refresher-content"),t.qZA(),t.TgZ(10,"ion-grid",7),t.ynx(11,8),t.YNc(12,S,1,1,"ng-container",9),t.YNc(13,D,1,1,"ng-container",9),t.YNc(14,O,1,1,"ng-container",9),t.YNc(15,y,8,1,"ng-template",null,10,t.W1O),t.BQk(),t.TgZ(17,"ion-row")(18,"ion-col",11),t._uU(19,"No"),t.qZA(),t.TgZ(20,"ion-col"),t._uU(21,"Alat"),t.qZA(),t.TgZ(22,"ion-col"),t._uU(23,"Jadwal"),t.qZA()()(),t.YNc(24,V,36,17,"ion-grid",12),t.qZA()),2&a&&(t.Q6J("translucent",!0),t.xp6(3),t.hij(" ",i.formTitle," "),t.xp6(4),t.Q6J("fullscreen",!0),t.xp6(3),t.Q6J("fixed",!0),t.xp6(1),t.Q6J("ngSwitch",i.roles),t.xp6(1),t.Q6J("ngSwitchCase","ADMIN"),t.xp6(1),t.Q6J("ngSwitchCase","KATIM"),t.xp6(1),t.Q6J("ngSwitchCase","BPFK"),t.xp6(10),t.Q6J("ngForOf",i.allAlatData))},dependencies:[c.sg,c.tP,c.RF,c.n9,c.ED,l.YG,l.Sm,l.wI,l.W2,l.jY,l.Gu,l.Ie,l.Q$,l.q_,l.fG,l.nJ,l.Wo,l.Nd,l.t9,l.n0,l.wd,l.sr,l.QI]}),n})()}];let at=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.Bz.forChild(tt),p.Bz]}),n})(),nt=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,g.u5,l.Pc,at]}),n})()},5557:(v,w,s)=>{s.d(w,{l:()=>g});var c=s(6689);let g=(()=>{class l{constructor(){}setExtras(u){this.extras=u}getExtras(){return this.extras}}return l.\u0275fac=function(u){return new(u||l)},l.\u0275prov=c.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},4338:(v,w,s)=>{s.d(w,{G:()=>T});var c=s(5861),g=s(5619),l=s(6689),p=s(6751),u=s(5819);let T=(()=>{class _{constructor(o,h){this.api=o,this.storage=h,this._allContentDummy=new g.X(null),this._allInstalasi=new g.X(null),this._allDataAlatKesehatan=new g.X(null),this.model=[],this.new_model=[]}get allContentDummy(){return this._allContentDummy.asObservable()}get allAllInstalasi(){return this._allInstalasi.asObservable()}get allDataAlatKesehatan(){return this._allDataAlatKesehatan.asObservable()}getSeluruhAlat(){return this.storage.getStorage("seluruhAlat")}getSeluruhAlatData(o){var h=this;return(0,c.Z)(function*(){try{h.api.getAllAlatKesehatan(o).then(function(){var m=(0,c.Z)(function*(x){const A=JSON.parse(x);yield h._allDataAlatKesehatan.next(A.data)});return function(x){return m.apply(this,arguments)}}())}catch(f){throw console.log(f),f}})()}deleteAlat(o,h){var f=this;return(0,c.Z)(function*(){try{let m=f.api.deleteAlatByID(o,h).then(function(){var x=(0,c.Z)(function*(A){JSON.parse(A)});return function(A){return x.apply(this,arguments)}}());console.log("deleteAlat",m)}catch(m){throw console.log(m),m}})()}getContentDummy(){try{this._allContentDummy.next(this.api.getViewListContent)}catch(o){throw console.log("getContentDummy",o),o}}getInstalasi(){try{this._allInstalasi.next(this.api.getInstalasi)}catch(o){throw console.log("instalasi",o),o}}}return _.\u0275fac=function(o){return new(o||_)(l.LFG(p.k),l.LFG(u.V))},_.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()}}]);