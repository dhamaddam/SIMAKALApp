"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1161,3454,3929],{1161:(Z,p,e)=>{e.r(p),e.d(p,{NotificationPageModule:()=>J});var d=e(6814),h=e(95),a=e(7852),_=e(4670),c=e(5861),N=e(7394),t=e(6689),s=e(3454),l=e(5619),g=e(5819),T=e(6751);let v=(()=>{class i{constructor(o,r,u,m,f){this.storage=o,this.router=r,this.alertController=u,this.loadingController=m,this.DB=f,this._modeldataNotification=new l.X(null)}get alldataNotification(){return this._modeldataNotification.asObservable()}getNotifications(o){var r=this;return(0,c.Z)(function*(){const u=yield r.loadingController.create();yield u.present(),r.DB.getNotification(o).then(function(){var m=(0,c.Z)(function*(f){console.log("isi auth service",f);const U=JSON.parse(f);console.log(U.status)});return function(f){return m.apply(this,arguments)}}()).catch(function(){var m=(0,c.Z)(function*(f){throw console.log("log Notification",f),f});return function(f){return m.apply(this,arguments)}}()),yield u.dismiss()})()}}return i.\u0275fac=function(o){return new(o||i)(t.LFG(g.V),t.LFG(_.F0),t.LFG(a.Br),t.LFG(a.HT),t.LFG(T.k))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var P=e(5175);function A(i,n){if(1&i&&t.GkF(0,14),2&i){t.oxw();const o=t.MAs(22);t.Q6J("ngTemplateOutlet",o)}}function x(i,n){if(1&i&&t.GkF(0,14),2&i){t.oxw();const o=t.MAs(18);t.Q6J("ngTemplateOutlet",o)}}function L(i,n){if(1&i&&t.GkF(0,14),2&i){t.oxw();const o=t.MAs(20);t.Q6J("ngTemplateOutlet",o)}}function S(i,n){if(1&i&&t.GkF(0,14),2&i){t.oxw();const o=t.MAs(16);t.Q6J("ngTemplateOutlet",o)}}function b(i,n){if(1&i&&t.GkF(0,14),2&i){t.oxw();const o=t.MAs(14);t.Q6J("ngTemplateOutlet",o)}}function y(i,n){1&i&&(t.TgZ(0,"ion-button",15),t._uU(1,"Danger"),t.qZA())}function C(i,n){1&i&&(t.TgZ(0,"ion-button",15),t._uU(1,"Dalam Perbaikan"),t.qZA())}function O(i,n){1&i&&(t.TgZ(0,"ion-button",16),t._uU(1,"Warning"),t.qZA())}function F(i,n){1&i&&(t.TgZ(0,"ion-button",17),t._uU(1,"Pakai"),t.qZA())}function w(i,n){1&i&&(t.TgZ(0,"ion-button",18),t._uU(1,"Default"),t.qZA())}function D(i,n){if(1&i&&(t.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col",5),t._uU(3),t.qZA(),t.TgZ(4,"ion-col"),t._uU(5),t.qZA(),t.TgZ(6,"ion-col"),t.ynx(7,7),t.YNc(8,A,1,1,"ng-container",8),t.YNc(9,x,1,1,"ng-container",8),t.YNc(10,L,1,1,"ng-container",8),t.YNc(11,S,1,1,"ng-container",8),t.YNc(12,b,1,1,"ng-container",8),t.BQk(),t.YNc(13,y,2,0,"ng-template",null,9,t.W1O),t.YNc(15,C,2,0,"ng-template",null,10,t.W1O),t.YNc(17,O,2,0,"ng-template",null,11,t.W1O),t.YNc(19,F,2,0,"ng-template",null,12,t.W1O),t.YNc(21,w,2,0,"ng-template",null,13,t.W1O),t.qZA()()()),2&i){const o=n.$implicit,r=n.index;t.xp6(3),t.Oqu(r+1),t.xp6(2),t.Oqu(null==o?null:o.name),t.xp6(2),t.Q6J("ngSwitch",null==o?null:o.monitoring_status),t.xp6(1),t.Q6J("ngSwitchCase",null),t.xp6(1),t.Q6J("ngSwitchCase","menunggu_sparepart"),t.xp6(1),t.Q6J("ngSwitchCase","layak_pakai"),t.xp6(1),t.Q6J("ngSwitchCase","layak_pakai"),t.xp6(1),t.Q6J("ngSwitchCase","sedang_dalam_perbaikan")}}const G=[{path:"",component:(()=>{class i{constructor(o,r,u,m){this.global=o,this.notificationServices=r,this.navCtrl=u,this.authServices=m,this.formTitle="Notifikasi Form",this.isLoading=!1,this.allnotificationData=[],this.allnotificationDataSubs=new N.w0}ngOnInit(){this.getAuth(),this.allnotificationDataSubs=this.notificationServices.alldataNotification.subscribe(o=>{this.allnotificationData=o instanceof Array?o:this.allnotificationData.concat(o)}),this.getAllData()}getAuth(){var o=this;return(0,c.Z)(function*(){const r=yield o.authServices.getId();if(r){let u=JSON.parse(r);console.log("this.token",u.access_token),o.token=u.access_token}})()}getAllData(){var o=this;return(0,c.Z)(function*(){o.isLoading=!0,o.global.showLoader(),setTimeout((0,c.Z)(function*(){yield o.notificationServices.getNotifications(o.token),o.isLoading=!1,o.global.hideLoader()}),1e3)})()}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(s.U),t.Y36(v),t.Y36(a.SH),t.Y36(P.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-notification"]],decls:17,vars:4,consts:[[1,"ion-no-border"],["slot","start"],[3,"fullscreen"],[1,"ion-padding",3,"fullscreen"],[3,"fixed"],["size","2"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[3,"ngTemplateOutlet",4,"ngSwitchCase"],["Danger",""],["sedangDalamPerbaikan",""],["masaWarning",""],["siapPakai",""],["default",""],[3,"ngTemplateOutlet"],["size","small","color","danger"],["size","small","color","warning"],["size","small","color","success"],["size","small"]],template:function(o,r){1&o&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t._uU(3," Notification "),t.qZA(),t.TgZ(4,"ion-buttons",1),t._UZ(5,"ion-back-button"),t.qZA()()(),t.TgZ(6,"ion-content",2)(7,"ion-content",3)(8,"ion-grid",4)(9,"ion-row")(10,"ion-col",5),t._uU(11,"No"),t.qZA(),t.TgZ(12,"ion-col"),t._uU(13,"Alat"),t.qZA(),t.TgZ(14,"ion-col"),t._uU(15,"Tanggal Kalibrasi"),t.qZA()()(),t.YNc(16,D,23,8,"ion-grid",6),t.qZA()()),2&o&&(t.xp6(6),t.Q6J("fullscreen",!0),t.xp6(1),t.Q6J("fullscreen",!0),t.xp6(1),t.Q6J("fixed",!0),t.xp6(8),t.Q6J("ngForOf",r.allnotificationData))},dependencies:[d.sg,d.tP,d.RF,d.n9,a.oU,a.YG,a.Sm,a.wI,a.W2,a.jY,a.Gu,a.Nd,a.wd,a.sr,a.cs]}),i})()}];let M=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[_.Bz.forChild(G),_.Bz]}),i})(),J=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[d.ez,h.u5,a.Pc,M]}),i})()},3454:(Z,p,e)=>{e.d(p,{U:()=>_});var d=e(5861),h=e(6689),a=e(7852);let _=(()=>{class c{constructor(t,s,l,g){this.alertCtrl=t,this.toastCtrl=s,this.loadingCtrl=l,this.modalCtrl=g,this.isLoading=!1}setLoader(){this.isLoading=!this.isLoading}showAlert(t,s,l){this.alertCtrl.create({header:s||"Authentication failed",message:t,buttons:l||["Okay"]}).then(g=>g.present())}showToast(t,s,l,g=3e3){var T=this;return(0,d.Z)(function*(){(yield T.toastCtrl.create({message:t,duration:g,color:s,position:l})).present()})()}errorToast(t,s=4e3){this.showToast(t||"No Internet Connection","danger","bottom",s)}successToast(t){this.showToast(t,"success","bottom")}showLoader(t,s){return this.isLoading||this.setLoader(),this.loadingCtrl.create({message:t,spinner:s||"bubbles"}).then(l=>{l.present().then(()=>{this.isLoading||l.dismiss().then(()=>{console.log("abort presenting")})})}).catch(l=>{console.log("show loading error: ",l)})}hideLoader(){return this.isLoading&&this.setLoader(),this.loadingCtrl.dismiss().then(()=>console.log("dismissed")).catch(t=>console.log("error hide loader: ",t))}createModal(t){var s=this;return(0,d.Z)(function*(){const l=yield s.modalCtrl.create(t);yield l.present();const{data:g}=yield l.onWillDismiss();if(console.log(g),g)return g})()}modalDismiss(t){let s=t||null;console.log("data",s),this.modalCtrl.dismiss(s)}getIcon(t){switch(t.toLowerCase()){case"home":return"home-outline";case"work":return"briefcase-outline";default:return"location-outline"}}}return c.\u0275fac=function(t){return new(t||c)(h.LFG(a.Br),h.LFG(a.yF),h.LFG(a.HT),h.LFG(a.IN))},c.\u0275prov=h.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()}}]);