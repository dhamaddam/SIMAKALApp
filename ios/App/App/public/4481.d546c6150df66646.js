"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4481,5557,2618],{4481:(b,v,o)=>{o.r(v),o.d(v,{DetailsMonitoringPageModule:()=>K});var u=o(6814),i=o(7852),_=o(4670),f=o(5861),d=o(95),Z=o(6676),h=o(7394),a=o(6689),e=o(3454),r=o(2690),l=o(7750),g=o(5175),m=o(5557);function p(t,c){if(1&t&&a.GkF(0,15),2&t){a.oxw();const n=a.MAs(18);a.Q6J("ngTemplateOutlet",n)}}function T(t,c){if(1&t&&a.GkF(0,15),2&t){a.oxw();const n=a.MAs(20);a.Q6J("ngTemplateOutlet",n)}}function y(t,c){if(1&t&&a.GkF(0,15),2&t){a.oxw();const n=a.MAs(22);a.Q6J("ngTemplateOutlet",n)}}function M(t,c){if(1&t&&a.GkF(0,15),2&t){a.oxw();const n=a.MAs(24);a.Q6J("ngTemplateOutlet",n)}}function U(t,c){if(1&t&&a.GkF(0,15),2&t){a.oxw();const n=a.MAs(26);a.Q6J("ngTemplateOutlet",n)}}function P(t,c){1&t&&(a.TgZ(0,"ion-grid")(1,"ion-row",16)(2,"ion-avatar"),a._UZ(3,"ion-icon",17),a.qZA(),a.TgZ(4,"ion-label",16),a._uU(5,"Ready"),a.qZA()()(),a.TgZ(6,"ion-grid")(7,"ion-row",16)(8,"ion-avatar"),a._UZ(9,"ion-icon",18),a.qZA(),a.TgZ(10,"ion-label",19),a._uU(11,"Dalam Perbaikan"),a.qZA()()(),a.TgZ(12,"ion-grid")(13,"ion-row",16)(14,"ion-avatar"),a._UZ(15,"ion-icon",20),a.qZA(),a.TgZ(16,"ion-label",16),a._uU(17,"Selesai Perbaikan"),a.qZA()()(),a.TgZ(18,"ion-grid")(19,"ion-row",16)(20,"ion-avatar"),a._UZ(21,"ion-icon",21),a.qZA(),a.TgZ(22,"ion-label"),a._uU(23,"Gagal Perbaikan"),a.qZA()()())}function x(t,c){1&t&&(a.TgZ(0,"ion-grid")(1,"ion-row",16)(2,"ion-avatar"),a._UZ(3,"ion-icon",17),a.qZA(),a.TgZ(4,"ion-label",16),a._uU(5,"Ready"),a.qZA()()(),a.TgZ(6,"ion-grid")(7,"ion-row",16)(8,"ion-avatar"),a._UZ(9,"ion-icon",22),a.qZA(),a.TgZ(10,"ion-label",23),a._uU(11,"Dalam Perbaikan"),a.qZA()()(),a.TgZ(12,"ion-grid")(13,"ion-row",16)(14,"ion-avatar"),a._UZ(15,"ion-icon",20),a.qZA(),a.TgZ(16,"ion-label",16),a._uU(17,"Selesai Perbaikan"),a.qZA()()(),a.TgZ(18,"ion-grid")(19,"ion-row",16)(20,"ion-avatar"),a._UZ(21,"ion-icon",21),a.qZA(),a.TgZ(22,"ion-label"),a._uU(23,"Gagal Perbaikan"),a.qZA()()())}function S(t,c){1&t&&(a.TgZ(0,"ion-grid")(1,"ion-row",16)(2,"ion-avatar"),a._UZ(3,"ion-icon",24),a.qZA(),a.TgZ(4,"ion-label",25),a._uU(5,"Ready"),a.qZA()()(),a.TgZ(6,"ion-grid")(7,"ion-row",16)(8,"ion-avatar"),a._UZ(9,"ion-icon",18),a.qZA(),a.TgZ(10,"ion-label",19),a._uU(11,"Dalam Perbaikan"),a.qZA()()(),a.TgZ(12,"ion-grid")(13,"ion-row",16)(14,"ion-avatar"),a._UZ(15,"ion-icon",20),a.qZA(),a.TgZ(16,"ion-label",16),a._uU(17,"Selesai Perbaikan"),a.qZA()()(),a.TgZ(18,"ion-grid")(19,"ion-row",16)(20,"ion-avatar"),a._UZ(21,"ion-icon",21),a.qZA(),a.TgZ(22,"ion-label"),a._uU(23,"Gagal Perbaikan"),a.qZA()()())}function C(t,c){1&t&&(a.TgZ(0,"ion-grid")(1,"ion-row",16)(2,"ion-avatar"),a._UZ(3,"ion-icon",17),a.qZA(),a.TgZ(4,"ion-label",16),a._uU(5,"Ready"),a.qZA()()(),a.TgZ(6,"ion-grid")(7,"ion-row",16)(8,"ion-avatar"),a._UZ(9,"ion-icon",18),a.qZA(),a.TgZ(10,"ion-label",19),a._uU(11,"Dalam Perbaikan"),a.qZA()()(),a.TgZ(12,"ion-grid")(13,"ion-row",16)(14,"ion-avatar"),a._UZ(15,"ion-icon",26),a.qZA(),a.TgZ(16,"ion-label",27),a._uU(17,"Selesai Perbaikan"),a.qZA()()(),a.TgZ(18,"ion-grid")(19,"ion-row",16)(20,"ion-avatar"),a._UZ(21,"ion-icon",21),a.qZA(),a.TgZ(22,"ion-label"),a._uU(23,"Gagal Perbaikan"),a.qZA()()())}function w(t,c){1&t&&(a.TgZ(0,"ion-grid")(1,"ion-row",16)(2,"ion-avatar"),a._UZ(3,"ion-icon",17),a.qZA(),a.TgZ(4,"ion-label",16),a._uU(5,"Ready"),a.qZA()()(),a.TgZ(6,"ion-grid")(7,"ion-row",16)(8,"ion-avatar"),a._UZ(9,"ion-icon",18),a.qZA(),a.TgZ(10,"ion-label",19),a._uU(11,"Dalam Perbaikan"),a.qZA()()(),a.TgZ(12,"ion-grid")(13,"ion-row",16)(14,"ion-avatar"),a._UZ(15,"ion-icon",20),a.qZA(),a.TgZ(16,"ion-label",16),a._uU(17,"Selesai Perbaikan"),a.qZA()()(),a.TgZ(18,"ion-grid")(19,"ion-row",16)(20,"ion-avatar"),a._UZ(21,"ion-icon",28),a.qZA(),a.TgZ(22,"ion-label",29),a._uU(23,"Gagal Perbaikan"),a.qZA()()())}function O(t,c){1&t&&(a.TgZ(0,"div",30),a._UZ(1,"ion-spinner",31),a.qZA())}function q(t,c){if(1&t){const n=a.EpF();a.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col")(3,"ion-label",32),a._uU(4,"Nama Alat"),a.qZA(),a.TgZ(5,"ion-item"),a._UZ(6,"ion-input",33),a.qZA()()(),a.TgZ(7,"ion-row")(8,"ion-col")(9,"ion-label",32),a._uU(10,"Monitoring Alat"),a.qZA(),a.TgZ(11,"ion-list")(12,"ion-item")(13,"ion-select",34),a.NdJ("ngModelChange",function(A){a.CHM(n);const D=a.oxw();return a.KtG(D.myForm.form=A)}),a.TgZ(14,"ion-select-option",35),a._uU(15,"Status Belum Diisi"),a.qZA(),a.TgZ(16,"ion-select-option",36),a._uU(17,"Layak Pakai"),a.qZA(),a.TgZ(18,"ion-select-option",37),a._uU(19,"Sedang Dalam Perbaikan"),a.qZA(),a.TgZ(20,"ion-select-option",38),a._uU(21,"Menunggu Sparepart"),a.qZA(),a.TgZ(22,"ion-select-option",39),a._uU(23,"Selesai Perbaikan"),a.qZA(),a.TgZ(24,"ion-select-option",40),a._uU(25,"Gagal Perbaikan"),a.qZA()()()()()(),a.TgZ(26,"ion-row")(27,"ion-col")(28,"ion-label",32),a._uU(29,"Ruang Instalasi"),a.qZA(),a.TgZ(30,"ion-item"),a._UZ(31,"ion-input",41),a.qZA()()(),a.TgZ(32,"ion-row")(33,"ion-col")(34,"ion-label",32),a._uU(35,"Nomor Seri"),a.qZA(),a.TgZ(36,"ion-item"),a._UZ(37,"ion-input",41),a.qZA()()(),a.TgZ(38,"ion-row")(39,"ion-col")(40,"ion-label",32),a._uU(41,"Monitoring Awal"),a.qZA(),a.TgZ(42,"ion-item"),a._UZ(43,"ion-input",41),a.qZA()()(),a.TgZ(44,"ion-row")(45,"ion-col")(46,"ion-label",32),a._uU(47,"Monitoring Ulang"),a.qZA(),a.TgZ(48,"ion-item"),a._UZ(49,"ion-input",41),a.qZA()()(),a.TgZ(50,"ion-row")(51,"ion-col")(52,"ion-label",32),a._uU(53,"Pemilik"),a.qZA(),a.TgZ(54,"ion-item"),a._UZ(55,"ion-input",41),a.qZA()()()()}if(2&t){const n=c.$implicit,s=a.oxw();a.xp6(6),a.s9C("value",null==n?null:n.name),a.Q6J("readonly",!0),a.xp6(7),a.Q6J("ngModel",s.myForm.form),a.xp6(18),a.s9C("value",null==n?null:n.room),a.Q6J("readonly",!0),a.xp6(6),a.s9C("value",null==n?null:n.serial_no),a.Q6J("readonly",!0),a.xp6(6),a.s9C("value",null==n?null:n.details[0].initial_monitoring),a.Q6J("readonly",!0),a.xp6(6),a.s9C("value",null==n?null:n.details[0].re_monitoring),a.Q6J("readonly",!0),a.xp6(6),a.s9C("value",null==n?null:n.owner.name),a.Q6J("readonly",!0)}}const k=[{path:"",component:(()=>{class t{constructor(n,s,A,D,N,I,J,F){this.router=n,this.global=s,this.activatedRoute=A,this.inputAlatKesehatanServices=D,this.monitoringAlatServices=N,this.authServices=I,this.fb=J,this.navExtras=F,this.isLoading=!1,this.formTitle="Detail Monitoring",this.allDataAlatKesehatanById=[],this.allDataAlatKesehatanByIdSub=new h.w0,this.resultData=[],this.detailsAlat=[],this.today=Z().format("YYYY-MM-DD"),this.status_alat="",this.id_alat=""}ngOnInit(){this.getAuth(),this.allDataAlatKesehatanById=this.navExtras.getExtras(),this.resultData.push(this.navExtras.getExtras()),this.resultData.forEach(n=>{console.log("element",n.details[0].calibration_status),this.myForm=this.fb.group({tanggal:[this.today,[d.kI.required]],monitoring_status:[""],name:[n.name,[d.kI.required]],pic:[n.pic],inventory_no:[n.inventory_no],room:[n.room],type:[n.type],calibration_status:[n.calibration_status],owner_id:[n.owner_id],initial_calibration:[n.details[0].initial_calibration],re_calibration:[n.details[0].re_calibration],initial_monitoring:[n.details[0].initial_monitoring],re_monitoring:[n.details[0].re_monitoring]}),this.id_alat=n.id,null==n.monitoring_status?(this.myForm.form="status_belum_diisi",this.status_alat="status_belum_diisi"):(this.myForm.form=n.monitoring_status,this.status_alat=n.monitoring_status)}),console.log("this.status_alat",this.status_alat)}placeData(n){var s=this;try{setTimeout((0,f.Z)(function*(){yield s.inputAlatKesehatanServices.updateAlatKesehatan(s.id_alat,n,s.token),s.isLoading=!1,s.global.hideLoader(),s.router.navigate(["/menu/monitoring-alat"],{})}),1e3)}catch(A){throw A}}getAuth(){var n=this;return(0,f.Z)(function*(){const s=yield n.authServices.getId();if(s){let A=JSON.parse(s);console.log("this.token",A.access_token),n.token=A.access_token}})()}saveData(){var n=this;return(0,f.Z)(function*(){n.isLoading=!0,n.global.showLoader(),console.log("save data this.myForm.value",n.myForm.value),n.placeData(n.myForm.value),n.isLoading=!1,n.global.hideLoader()})()}}return t.\u0275fac=function(n){return new(n||t)(a.Y36(_.F0),a.Y36(e.U),a.Y36(_.gz),a.Y36(r.f),a.Y36(l.c),a.Y36(g.e),a.Y36(d.qu),a.Y36(m.l))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-details-monitoring"]],decls:37,vars:11,consts:[[1,"ion-no-border"],["slot","start"],[1,"ion-padding",3,"fullscreen"],[3,"ngSwitch"],[3,"ngTemplateOutlet",4,"ngSwitchCase"],["default",""],["masaWarning",""],["siapPakai",""],["sedangDalamPerbaikan",""],["Danger",""],[1,"ion-margin",3,"formGroup","ngSubmit"],["class","ion-text-center alignSpinner",4,"ngIf"],[4,"ngFor","ngForOf"],["type","submit","expand","full","color","success","shape","round","expand","block"],["expand","full","color","medium","shape","round"],[3,"ngTemplateOutlet"],[1,"ion-justify-content-center"],["name","checkmark-circle"],["name","construct"],[1,"ion-text-center"],["name","thumbs-up-sharp"],["name","close-circle-sharp"],["name","construct","color","warning"],["color","warning",1,"ion-text-center"],["name","checkmark-circle","color","success"],["color","success",1,"ion-justify-content-center"],["name","thumbs-up-sharp","color","primary"],["color","primary",1,"ion-justify-content-center"],["name","close-circle-sharp","color","danger"],["color","danger"],[1,"ion-text-center","alignSpinner"],["color","primary"],[1,"ctm-font-2"],["formControlName","name","type","text",3,"readonly","value"],["interface","action-sheet","formControlName","monitoring_status",3,"ngModel","ngModelChange"],["value","status_belum_diisi"],["value","layak_pakai"],["value","sedang_dalam_perbaikan"],["value","menunggu_sparepart"],["value","selesai_perbaikan"],["value","gagal_perbaikan"],["type","text",3,"readonly","value"]],template:function(n,s){1&n&&(a.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),a._uU(3),a.qZA(),a.TgZ(4,"ion-buttons",1),a._UZ(5,"ion-back-button"),a.qZA()()(),a.TgZ(6,"ion-content",2)(7,"ion-card")(8,"ion-card-header"),a._uU(9," STATUS : "),a.qZA(),a.TgZ(10,"ion-row"),a.ynx(11,3),a.YNc(12,p,1,1,"ng-container",4),a.YNc(13,T,1,1,"ng-container",4),a.YNc(14,y,1,1,"ng-container",4),a.YNc(15,M,1,1,"ng-container",4),a.YNc(16,U,1,1,"ng-container",4),a.BQk(),a.qZA(),a.YNc(17,P,24,0,"ng-template",null,5,a.W1O),a.YNc(19,x,24,0,"ng-template",null,6,a.W1O),a.YNc(21,S,24,0,"ng-template",null,7,a.W1O),a.YNc(23,C,24,0,"ng-template",null,8,a.W1O),a.YNc(25,w,24,0,"ng-template",null,9,a.W1O),a.qZA(),a.TgZ(27,"form",10),a.NdJ("ngSubmit",function(){return s.saveData()}),a.YNc(28,O,2,0,"div",11),a.YNc(29,q,56,13,"ion-grid",12),a.TgZ(30,"ion-row")(31,"ion-col")(32,"ion-button",13),a._uU(33,"Simpan"),a.qZA()(),a.TgZ(34,"ion-col")(35,"ion-button",14),a._uU(36,"Kembali"),a.qZA()()()()()),2&n&&(a.xp6(3),a.hij(" ",s.formTitle," "),a.xp6(3),a.Q6J("fullscreen",!0),a.xp6(5),a.Q6J("ngSwitch",s.status_alat),a.xp6(1),a.Q6J("ngSwitchCase","status_belum_diisi"),a.xp6(1),a.Q6J("ngSwitchCase","menunggu_sparepart"),a.xp6(1),a.Q6J("ngSwitchCase","layak_pakai"),a.xp6(1),a.Q6J("ngSwitchCase","sedang_dalam_perbaikan"),a.xp6(1),a.Q6J("ngSwitchCase","gagal_perbaikan"),a.xp6(11),a.Q6J("formGroup",s.myForm),a.xp6(1),a.Q6J("ngIf",s.isLoading),a.xp6(1),a.Q6J("ngForOf",s.resultData))},dependencies:[u.sg,u.O5,u.tP,u.RF,u.n9,d._Y,d.JJ,d.JL,d.sg,d.u,i.BJ,i.oU,i.YG,i.Sm,i.PM,i.Zi,i.wI,i.W2,i.jY,i.Gu,i.gu,i.pK,i.Ie,i.Q$,i.q_,i.Nd,i.t9,i.n0,i.PQ,i.wd,i.sr,i.QI,i.j9,i.cs],styles:["ion-label[_ngcontent-%COMP%]{font-size:8px;position:relative;padding-top:5px;text-align:center}ion-icon[_ngcontent-%COMP%]{width:45px;height:45px;text-align:center;margin-bottom:20px;position:absolute}"]}),t})()}];let E=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[_.Bz.forChild(k),_.Bz]}),t})(),K=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[u.ez,d.u5,d.UX,i.Pc,E]}),t})()},2690:(b,v,o)=>{o.d(v,{f:()=>Z});var u=o(5861),i=o(5619),_=o(6689),f=o(7852),d=o(6751);let Z=(()=>{class h{constructor(e,r){this.loadingController=e,this.api=r,this._modeldataNotification=new i.X(null)}saveInputAlatKesehatan(e,r){this.api.saveInputAlatKesehatan(e,r).then(function(){var l=(0,u.Z)(function*(g){"success"==JSON.parse(g).meta.status?console.log("data sukses disimpan"):console.log("data gagal disimpan")});return function(g){return l.apply(this,arguments)}}())}updateAlatKesehatan(e,r,l){var g=this;this.api.updateAlatKesehatan(e,r,l).then(function(){var m=(0,u.Z)(function*(p){const T=JSON.parse(p);"success"==T.meta.status?(console.log("data sukses disimpan"),g.sendAndCreateNotificationMonitoring(e,T,l)):console.log("data gagal disimpan")});return function(p){return m.apply(this,arguments)}}())}updateAlatKesehatanCalibration(e,r,l){var g=this;this.api.updateAlatKesehatanCalibration(e,r,l).then(function(){var m=(0,u.Z)(function*(p){"success"==JSON.parse(p).meta.status?(console.log("data sukses disimpan"),g.sendAndCreateNotificationCalibration(e,r,l)):console.log("data gagal disimpan")});return function(p){return m.apply(this,arguments)}}())}sendAndCreateNotificationMonitoring(e,r,l){this.api.sendAndCreateNotificationMonitoring(e,r,l).then(function(){var g=(0,u.Z)(function*(m){JSON.parse(m),console.log("data sukses disimpan")});return function(m){return g.apply(this,arguments)}}())}sendAndCreateNotificationCalibration(e,r,l){this.api.sendAndCreateNotificationCalibration(e,r,l).then(function(){var g=(0,u.Z)(function*(m){"success"==JSON.parse(m).meta.status?console.log("data sukses disimpan"):console.log("data gagal disimpan")});return function(m){return g.apply(this,arguments)}}())}sendAndCreateNotificationBPFK(e,r){this.api.sendAndCreateNotificationBPFK(e,r).then(function(){var l=(0,u.Z)(function*(g){"success"==JSON.parse(g).meta.status?console.log("data sukses disimpan"):console.log("data gagal disimpan")});return function(g){return l.apply(this,arguments)}}())}}return h.\u0275fac=function(e){return new(e||h)(_.LFG(f.HT),_.LFG(d.k))},h.\u0275prov=_.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},7750:(b,v,o)=>{o.d(v,{c:()=>d});var u=o(5861),i=o(5619),_=o(6689),f=o(6751);let d=(()=>{class Z{constructor(a){this.api=a,this._allContentDummy=new i.X(null),this._allDataAlatKesehatan=new i.X(null),this._allDataAlatKesehatanById=new i.X(null)}get allContentDummy(){return this._allContentDummy.asObservable()}get allDataAlatKesehatan(){return this._allDataAlatKesehatan.asObservable()}get allDataAlatKesehatanById(){return this._allDataAlatKesehatanById.asObservable()}getContentDummy(){try{this._allContentDummy.next(this.api.getViewListContent)}catch(a){throw console.log("getContentDummy",a),a}}getSeluruhAlatData(a){var e=this;return(0,u.Z)(function*(){console.log("token getSeluruhAlatData",a);try{e.api.getAllAlatKesehatan(a).then(function(){var l=(0,u.Z)(function*(g){const m=JSON.parse(g);yield e._allDataAlatKesehatan.next(m.data)});return function(g){return l.apply(this,arguments)}}())}catch(r){throw console.log(r),r}})()}getSeluruhAlatDataById(a,e){var r=this;return(0,u.Z)(function*(){try{r.api.getAllAlatKesehatanById(a,e).then(function(){var g=(0,u.Z)(function*(m){const p=JSON.parse(m);console.log("token getSeluruhAlatData",p.data),yield r._allDataAlatKesehatanById.next(p.data)});return function(m){return g.apply(this,arguments)}}())}catch(l){throw console.log(l),l}})()}}return Z.\u0275fac=function(a){return new(a||Z)(_.LFG(f.k))},Z.\u0275prov=_.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()},5557:(b,v,o)=>{o.d(v,{l:()=>i});var u=o(6689);let i=(()=>{class _{constructor(){}setExtras(d){this.extras=d}getExtras(){return this.extras}}return _.\u0275fac=function(d){return new(d||_)},_.\u0275prov=u.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()}}]);